(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{186:function(e,t,a){var n=a(250);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a(25).default)("66dbf1cc",n,!0,{})},188:function(e,t,a){var n=a(259);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a(25).default)("711891f2",n,!0,{})},189:function(e,t,a){var n=a(261);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a(25).default)("a0b04f8a",n,!0,{})},190:function(e,t,a){var n=a(263);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a(25).default)("83e40c84",n,!0,{})},191:function(e,t,a){var n=a(267);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a(25).default)("7cbea679",n,!0,{})},192:function(e,t,a){var n=a(269);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a(25).default)("ab4446ca",n,!0,{})},193:function(e,t,a){var n=a(271);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a(25).default)("5b658e2d",n,!0,{})},194:function(e,t,a){var n=a(273);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a(25).default)("27dea004",n,!0,{})},195:function(e,t,a){var n=a(275);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a(25).default)("92e5259c",n,!0,{})},196:function(e,t,a){var n=a(277);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a(25).default)("fcd75852",n,!0,{})},197:function(e,t,a){var n=a(279);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a(25).default)("a9ccdd86",n,!0,{})},198:function(e,t,a){var n=a(281);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a(25).default)("5b3046a2",n,!0,{})},199:function(e,t,a){var n=a(283);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a(25).default)("d4be674c",n,!0,{})},214:function(e,t){},216:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAyNCIgaGVpZ2h0PSIxMDI0IiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTggMEMzLjU4IDAgMCAzLjU4IDAgOEMwIDExLjU0IDIuMjkgMTQuNTMgNS40NyAxNS41OUM1Ljg3IDE1LjY2IDYuMDIgMTUuNDIgNi4wMiAxNS4yMUM2LjAyIDE1LjAyIDYuMDEgMTQuMzkgNi4wMSAxMy43MkM0IDE0LjA5IDMuNDggMTMuMjMgMy4zMiAxMi43OEMzLjIzIDEyLjU1IDIuODQgMTEuODQgMi41IDExLjY1QzIuMjIgMTEuNSAxLjgyIDExLjEzIDIuNDkgMTEuMTJDMy4xMiAxMS4xMSAzLjU3IDExLjcgMy43MiAxMS45NEM0LjQ0IDEzLjE1IDUuNTkgMTIuODEgNi4wNSAxMi42QzYuMTIgMTIuMDggNi4zMyAxMS43MyA2LjU2IDExLjUzQzQuNzggMTEuMzMgMi45MiAxMC42NCAyLjkyIDcuNThDMi45MiA2LjcxIDMuMjMgNS45OSAzLjc0IDUuNDNDMy42NiA1LjIzIDMuMzggNC40MSAzLjgyIDMuMzFDMy44MiAzLjMxIDQuNDkgMy4xIDYuMDIgNC4xM0M2LjY2IDMuOTUgNy4zNCAzLjg2IDguMDIgMy44NkM4LjcgMy44NiA5LjM4IDMuOTUgMTAuMDIgNC4xM0MxMS41NSAzLjA5IDEyLjIyIDMuMzEgMTIuMjIgMy4zMUMxMi42NiA0LjQxIDEyLjM4IDUuMjMgMTIuMyA1LjQzQzEyLjgxIDUuOTkgMTMuMTIgNi43IDEzLjEyIDcuNThDMTMuMTIgMTAuNjUgMTEuMjUgMTEuMzMgOS40NyAxMS41M0M5Ljc2IDExLjc4IDEwLjAxIDEyLjI2IDEwLjAxIDEzLjAxQzEwLjAxIDE0LjA4IDEwIDE0Ljk0IDEwIDE1LjIxQzEwIDE1LjQyIDEwLjE1IDE1LjY3IDEwLjU1IDE1LjU5QzEzLjcxIDE0LjUzIDE2IDExLjUzIDE2IDhDMTYgMy41OCAxMi40MiAwIDggMFoiIHRyYW5zZm9ybT0ic2NhbGUoNjQpIiBmaWxsPSIjMUIxRjIzIi8+Cjwvc3ZnPgo="},249:function(e,t,a){"use strict";var n=a(186);a.n(n).a},250:function(e,t,a){(e.exports=a(24)(!1)).push([e.i,"#search_div[data-v-c4762b8e]{position:absolute;top:-10px;right:64px;width:200px}.search_input[data-v-c4762b8e]{width:100%;border-radius:3px;border:none;box-shadow:inset 0 2px 5px grey;padding:3px 10px 1px;font-size:14px}.search_input[data-v-c4762b8e]:focus{outline:none}#search_results[data-v-c4762b8e]{width:218px;max-height:500px;border:1px solid #d3d3d3;position:absolute;z-index:1;overflow-y:scroll;overflow-x:hidden;margin-left:0;color:grey;font-size:12px;box-shadow:3px 3px 3px grey;border-radius:3px}#search_results[data-v-c4762b8e],ul[data-v-c4762b8e]{background-color:#fff}ul[data-v-c4762b8e]{list-style:none;padding:5px;text-align:left}li[data-v-c4762b8e]{border-bottom:1px solid #d3d3d3}li[data-v-c4762b8e]:hover{background:#add8e6;cursor:pointer}.name[data-v-c4762b8e]{color:#000}.parent[data-v-c4762b8e]{color:#d2691e;font-size:10px}",""])},255:function(e,t){},256:function(e,t){},258:function(e,t,a){"use strict";var n=a(188);a.n(n).a},259:function(e,t,a){(e.exports=a(24)(!1)).push([e.i,".file[data-v-56d53733]{position:relative;display:inline-block;box-sizing:content-box;position:absolute;top:10px;left:130px}.screenshot[data-v-56d53733]{cursor:pointer;color:#fff}.screenshot[data-v-56d53733]:hover{border:1px solid #fff}.file[data-v-56d53733],.file_select[data-v-56d53733]{cursor:pointer}.file_select>input[type=file][data-v-56d53733]{display:none}.file_menu[data-v-56d53733]{font-size:14px;background-color:#006696;display:inline-block;position:absolute;left:0;top:35px;width:150px;border:1px solid grey;border-top-color:#fff}ul[data-v-56d53733]{list-style:none;padding:5px;text-align:left}li[data-v-56d53733]:hover{background:#add8e6;cursor:pointer;color:#000}",""])},260:function(e,t,a){"use strict";var n=a(189);a.n(n).a},261:function(e,t,a){(e.exports=a(24)(!1)).push([e.i,".file[data-v-4cf1a86e]{display:inline-block;position:relative;width:50px;height:50px}.settings[data-v-4cf1a86e]:hover{border:1px solid #fff}.file[data-v-4cf1a86e],.file_select[data-v-4cf1a86e]{cursor:pointer}.file_select>input[type=file][data-v-4cf1a86e]{display:none}.file_menu[data-v-4cf1a86e]{font-size:14px;background-color:#006696;display:inline-block;position:absolute;left:0;top:35px;width:170px;border:1px solid grey;border-top-color:#fff}ul[data-v-4cf1a86e]{list-style:none;padding:5px;text-align:left}input[data-v-4cf1a86e]{margin:0 5px}li[data-v-4cf1a86e]:hover{background:#add8e6;cursor:pointer;color:#000}",""])},262:function(e,t,a){"use strict";var n=a(190);a.n(n).a},263:function(e,t,a){(e.exports=a(24)(!1)).push([e.i,".header[data-v-a1c77a76]{width:100%;height:50px;color:#fff;text-align:center;font-size:40px;font-weight:500;position:fixed;left:0;top:0;z-index:2;box-shadow:5px 2px 5px grey}.screenshot1[data-v-a1c77a76]{display:inline-block;box-sizing:content-box;position:absolute;top:10px;left:70px}.screenshot[data-v-a1c77a76]{cursor:pointer}.screenshot[data-v-a1c77a76]:hover{border:1px solid #fff}.menu[data-v-a1c77a76]{left:40px;font-size:16px;width:200px;text-align:left;padding:10px}.gh[data-v-a1c77a76],.menu[data-v-a1c77a76]{position:absolute;top:5px}.gh[data-v-a1c77a76]{right:10px;width:40px}.edit_indicator[data-v-a1c77a76]{position:absolute;top:50px;right:0;font-size:16px;background-color:red;padding:5px;cursor:pointer}",""])},266:function(e,t,a){"use strict";var n=a(191);a.n(n).a},267:function(e,t,a){(e.exports=a(24)(!1)).push([e.i,".down-icon1[data-v-2c9b8442]{width:20px;height:auto;margin:3px 0 0}.profile[data-v-2c9b8442]{width:55px;max-height:55px;display:block;margin:auto;border-radius:30px}.active_department[data-v-2c9b8442]{background-color:#ff0!important;color:#000!important}.arrow[data-v-2c9b8442]{font-size:30px;position:absolute;bottom:0;right:0;margin:-8px}.down[data-v-2c9b8442]{cursor:zoom-in}.up[data-v-2c9b8442]{cursor:zoom-out}.view_button[data-v-2c9b8442]{font-size:24px;position:absolute;top:0;right:0;margin:0;color:#000}.department[data-v-2c9b8442]{width:120px;height:60px;border:1px solid #d3d3d3;text-align:center;font-size:11px;vertical-align:middle;display:flex;border-radius:3px;align-items:center;cursor:pointer;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;background-color:#fff;margin:30px auto 5px;padding:2px;position:relative;box-shadow:3px 3px 3px #d3d3d3}.manager_photo[data-v-2c9b8442]{width:180px;height:60px;margin-top:20px}.invisible[data-v-2c9b8442]{visibility:hidden}.level_indicator[data-v-2c9b8442]{position:absolute;height:3px;width:100px;right:10px;top:3px;border-radius:5px}.textdiv[data-v-2c9b8442]{width:114px;height:50px;position:relative}.column[data-v-2c9b8442]{margin-top:1px;margin-bottom:0}.staff[data-v-2c9b8442],.staff_column[data-v-2c9b8442]{margin:2px 80px}.staff_child[data-v-2c9b8442]{margin:2px 80px 2px 100px}.name[data-v-2c9b8442],.name1[data-v-2c9b8442],.name2[data-v-2c9b8442]{word-wrap:break-word;min-width:1%;width:114px;display:inline-block;position:absolute;left:0;top:8px}.name1[data-v-2c9b8442]{top:10px}.name2[data-v-2c9b8442]{top:14px}.name_manager[data-v-2c9b8442]{word-wrap:break-word;min-width:1%;width:114px;display:inline-block;left:0;bottom:5px}.hidden_dept[data-v-2c9b8442],.name_manager[data-v-2c9b8442]{position:absolute;color:grey}.hidden_dept[data-v-2c9b8442]{bottom:1px;left:1px;background-color:#fff;font-size:12px;padding:0 2px;border-radius:4px}.hidden_parents[data-v-2c9b8442],.hidden_parents1[data-v-2c9b8442]{position:absolute;top:-24px;left:78px;font-size:24px;color:grey}.hidden_parents1[data-v-2c9b8442]{left:50px}",""])},268:function(e,t,a){"use strict";var n=a(192);a.n(n).a},269:function(e,t,a){(e.exports=a(24)(!1)).push([e.i,"table[data-v-71bae5cd]{border:0 solid green;margin:auto}td[data-v-71bae5cd]{border:0 dashed hsla(0,0%,39.2%,.3);width:30%}td.dept[data-v-71bae5cd]{width:60px}div.staff-left[data-v-71bae5cd]{float:right}div.staff-right[data-v-71bae5cd]{float:left}.container[data-v-71bae5cd]{display:inline-block;position:relative}table.staff[data-v-71bae5cd]{margin:auto}.parent[data-v-71bae5cd]{border:1px solid grey}.child[data-v-71bae5cd],.parent[data-v-71bae5cd]{display:inline-block}.dept[data-v-71bae5cd]{border:0 solid red}table[data-v-71bae5cd]{table-layout:fixed}td[data-v-71bae5cd]{text-align:center;vertical-align:top;width:150px;padding:0 3px}",""])},270:function(e,t,a){"use strict";var n=a(193);a.n(n).a},271:function(e,t,a){(e.exports=a(24)(!1)).push([e.i,".graph[data-v-f8458450]{width:100%;height:800px;position:absolute;top:0;left:0;z-index:-1}",""])},272:function(e,t,a){"use strict";var n=a(194);a.n(n).a},273:function(e,t,a){(e.exports=a(24)(!1)).push([e.i,"#edit_menu[data-v-47216bfe]{position:absolute;width:150px;background-color:#d3d3d3;box-shadow:5px 5px 5px #000;top:50px;left:50px;padding:5px;z-index:2;text-align:left;border-radius:2px;font-size:14px}ul[data-v-47216bfe]{padding:0;list-style-type:none;margin:0}li[data-v-47216bfe]{cursor:pointer}li[data-v-47216bfe]:hover{background-color:grey;color:#fff}.noclick[data-v-47216bfe]{cursor:default}.noclick[data-v-47216bfe]:hover{background-color:#d3d3d3;color:#000}.delete[data-v-47216bfe]{color:red}",""])},274:function(e,t,a){"use strict";var n=a(195);a.n(n).a},275:function(e,t,a){(e.exports=a(24)(!1)).push([e.i,"#view_menu[data-v-e8782e82]{position:absolute;width:150px;background-color:#d3d3d3;box-shadow:5px 5px 5px #000;top:50px;left:50px;padding:5px;z-index:2;text-align:left;border-radius:2px;font-size:14px}ul[data-v-e8782e82]{padding:0;list-style-type:none;margin:0}li[data-v-e8782e82]{cursor:pointer}li[data-v-e8782e82]:hover{background-color:grey;color:#fff}.noclick[data-v-e8782e82]{cursor:default}.noclick[data-v-e8782e82]:hover{background-color:#d3d3d3;color:#000}.delete[data-v-e8782e82]{color:red}",""])},276:function(e,t,a){"use strict";var n=a(196);a.n(n).a},277:function(e,t,a){(e.exports=a(24)(!1)).push([e.i,"#chart[data-v-da5fdfb8]{position:relative;margin-left:300px;padding:10px;margin-top:50px;display:inline-block;text-align:center;box-sizing:border-box;min-width:500px;-ms-user-select:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;background-color:#fff}.chart-container[data-v-da5fdfb8]{margin:auto;display:inline-block}#move_dept[data-v-da5fdfb8]{position:absolute;width:114px;height:50px;text-align:center;font-size:11px;vertical-align:middle;display:flex;border-radius:3px;align-items:center;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;background-color:#fff;margin:4px auto;padding:2px;box-sizing:border-box;top:0;left:0;border:1px dashed #006696}.arrow[data-v-da5fdfb8]{font-size:30px;position:absolute;bottom:0;right:0;margin:-8px}.down[data-v-da5fdfb8]{cursor:zoom-in}.up[data-v-da5fdfb8]{cursor:zoom-out}",""])},278:function(e,t,a){"use strict";var n=a(197);a.n(n).a},279:function(e,t,a){(e.exports=a(24)(!1)).push([e.i,"#person_picker[data-v-e0b1692a]{position:absolute;top:200px;left:10px;width:280px;height:220px;background-color:#d3d3d3;padding:10px}.buttons[data-v-e0b1692a]{position:absolute;left:0;bottom:10px;padding:0 20px}.buttons button[data-v-e0b1692a]{margin:0 10px;cursor:pointer}.search_input[data-v-e0b1692a]{width:calc(100% - 30px);border-radius:3px;border:none;box-shadow:inset 0 2px 5px grey;padding:3px 10px 1px;font-size:14px}.search_input[data-v-e0b1692a]:focus{outline:none}#search_results[data-v-e0b1692a]{width:218px;max-height:500px;border:1px solid #d3d3d3;position:absolute;z-index:1;overflow-y:scroll;overflow-x:hidden;margin-left:0;color:grey;font-size:12px;box-shadow:3px 3px 3px grey;border-radius:3px}#search_results[data-v-e0b1692a],ul[data-v-e0b1692a]{background-color:#fff}ul[data-v-e0b1692a]{list-style:none;padding:5px;text-align:left}li[data-v-e0b1692a]{border-bottom:1px solid #d3d3d3}li[data-v-e0b1692a]:hover{background:#add8e6;cursor:pointer}.addnew[data-v-e0b1692a]{margin:5px}.addnew input[data-v-e0b1692a]{width:170px}.material-icons.close[data-v-e0b1692a]{position:absolute;top:5px;right:5px;font-size:16px;cursor:pointer}",""])},280:function(e,t,a){"use strict";var n=a(198);a.n(n).a},281:function(e,t,a){(e.exports=a(24)(!1)).push([e.i,".profile[data-v-7c0fb100]{width:80px;max-height:80px;position:absolute;right:16px;top:154px;border:1px solid grey;cursor:pointer}.profile[data-v-7c0fb100]:hover{border:2px solid orange}.title[data-v-7c0fb100]{text-align:center;min-height:50px;margin-bottom:10px;font-size:20px;font-weight:600;width:calc(100% - 30px)}.assignment[data-v-7c0fb100]{width:90%;height:60px;margin:4px auto;position:relative;border:1px solid #d3d3d3;box-shadow:3px 3px 3px #d3d3d3;border-radius:5px;background-color:#fff;cursor:pointer}.assignment[data-v-7c0fb100]:hover{border:2px solid orange}.photo[data-v-7c0fb100]{width:52px;max-height:52px;display:block;margin:auto}.name[data-v-7c0fb100]{font-size:16px}.role[data-v-7c0fb100]{color:grey;font-size:14px}.delete[data-v-7c0fb100]{position:absolute;top:5px;right:0;font-size:20px;color:red;cursor:pointer}.tabs[data-v-7c0fb100]{width:100%;margin-bottom:20px;padding:0 10px;border-bottom:2px solid #d3d3d3}.tab[data-v-7c0fb100]{width:120px;background:none;margin:0 0 -2px;border:none;border-bottom:2px solid transparent;outline:none;cursor:pointer}.tab.active[data-v-7c0fb100]{border:2px solid #d3d3d3;border-top-left-radius:7px;border-top-right-radius:7px;background-color:#d3d3d3}.property[data-v-7c0fb100]{margin-bottom:20px}.clickable[data-v-7c0fb100]{cursor:pointer;font-size:14px}input.name[data-v-7c0fb100],textarea.description[data-v-7c0fb100]{width:calc(100% - 10px)}textarea.description[data-v-7c0fb100]{height:80px}.clickable[data-v-7c0fb100]:hover{background-color:grey}.noclickable[data-v-7c0fb100]{cursor:default}.label[data-v-7c0fb100]{font-weight:600;text-decoration:underline}.untext[data-v-7c0fb100]{color:grey;font-style:italic}ul[data-v-7c0fb100]{list-style:none;background-color:#fff;padding:5px}.this-department[data-v-7c0fb100]{font-weight:600}.sub[data-v-7c0fb100]{font-size:16px;margin:-8px 0}.isstaff[data-v-7c0fb100]{margin:0 10px}.side-screen[data-v-7c0fb100]{width:300px;height:100vh;overflow:auto;padding:5px 5px 80px}.noside-screen[data-v-7c0fb100],.side-screen[data-v-7c0fb100]{position:fixed;left:0;top:50px;border:1px solid #d3d3d3;background-color:#f5faff;box-shadow:3px 3px 3px #d3d3d3}.noside-screen[data-v-7c0fb100]{width:25px;height:45px;z-index:9}.right[data-v-7c0fb100]{position:absolute;right:0;top:10px;background-color:transparent;border:0 solid grey;padding:1px;cursor:pointer}.right[data-v-7c0fb100]:focus{outline:none}.error[data-v-7c0fb100]{background-color:red}.material-icons.edit[data-v-7c0fb100]{font-size:16px;cursor:pointer}",""])},282:function(e,t,a){"use strict";var n=a(199);a.n(n).a},283:function(e,t,a){(e.exports=a(24)(!1)).push([e.i,":focus{outline:0}body{background-color:#fff;overflow:hidden}",""])},284:function(e,t,a){"use strict";a.r(t);var n=a(16),i=a.n(n),o=[function(){var e=this.$createElement,t=this._self._c||e;return t("a",{attrs:{href:"https://github.com/Hoogkamer/vue-org-chart",target:"_blank"}},[t("img",{staticClass:"gh",attrs:{src:a(216),title:"Go to Github project page"}})])}],r=(a(65),a(217),a(17),a(219)),s=a.n(r),c=(a(26),a(46)),l={data:function(){return{searchField:""}},asyncComputed:{searchresults:{get:function(){var e=this;return new Promise(function(t,a){var n;e.searchField.length<2?n=[{name:"Type at least 2 characters"}]:(n=e.searchDept(e.searchField)).length||(n=[{name:"No matches"}]),t(n)})},default:[{name:"Searching...."}]}},computed:i()({},Object(c.c)(["chart","editMode","orgArray"]),{searchresults1:function(){var e;return this.searchField.length<2?e=[{name:"Type at least 2 characters"}]:(e=this.searchDept(this.searchField)).length||(e=[{name:"No matches"}]),e}}),watch:{searchField:function(e){"_edit"===e&&(this.$store.commit("setEditMode",!this.editMode),this.searchField="")}},methods:i()({},Object(c.b)(["setShowDepartment"]),{findDept:function(e){this.searchField="",this.setShowDepartment(e)},searchDept:function(e){var t=[];return this.orgArray.forEach(function(a){a.manager.name.toLowerCase().indexOf(e.toLowerCase())>-1&&t.push({dept:a,name:a.manager.name,context:"Manager of:"+a.name}),a.name.toLowerCase().indexOf(e.toLowerCase())>-1&&t.push({dept:a,name:a.name,context:a.parent?a.parent.name:""})}),t},searchDept1:function(e,t,a){var n=this;return e.name.toLowerCase().indexOf(t.toLowerCase())>-1&&a.push({dept:e,name:e.name,context:e.parent?e.parent.name:""}),e.manager.name.toLowerCase().indexOf(t.toLowerCase())>-1&&a.push({dept:e,name:e.manager.name,context:"Manager of: "+e.name}),e.children.forEach(function(e){n.searchDept(e,t,a)}),a}})},d=(a(249),a(15)),p=Object(d.a)(l,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"search_div"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.searchField,expression:"searchField"}],staticClass:"search_input",attrs:{placeholder:"Search department or manager..."},domProps:{value:e.searchField},on:{input:function(t){t.target.composing||(e.searchField=t.target.value)}}}),e.searchField.length?a("div",{attrs:{id:"search_results"}},[a("ul",e._l(e.searchresults,function(t){return e.searchresults.length?a("li",{on:{click:function(a){e.findDept(t.dept)}}},[a("div",{staticClass:"name"},[e._v(e._s(t.name))]),t.context?a("div",{staticClass:"parent"},[e._v(e._s(t.context))]):e._e()]):e._e()}),0)]):e._e()])},[],!1,null,"c4762b8e",null);p.options.__file="SearchBox.vue";var u=p.exports,m=(a(47),a(212)),h=a.n(m),f=a(257),v=a.n(f),g={data:function(){return{editMenuOpen:!1}},computed:i()({},Object(c.c)(["chart","people","assignments","editMode"])),watch:{editMode:function(e){e||(this.editMenuOpen=!1)}},methods:{generateInputFile:function(){var e=this.tree2array(this.chart,[]),t="var INPUT_DATA="+JSON.stringify({chart:e,people:this.people,assignments:this.assignments}),a=new Blob([t],{type:"text/plain;charset=utf-8"});v.a.saveAs(a,"data.js")},importData:function(e){var t=e.target.files[0],a=new FileReader,n=this;a.onload=function(e){var t=e.target.result,a=h.a.read(t,{type:"binary"}),i=h.a.utils.sheet_to_json(a.Sheets.chart,{defval:""}),o=h.a.utils.sheet_to_json(a.Sheets.people,{defval:""}),r=h.a.utils.sheet_to_json(a.Sheets.assignment,{defval:""}),s=[];i.forEach(function(e){var t=o.find(function(t){return t.id==e.manager_id});s.push({showChildren:!1,parent:null,parentId:e.parent_id,children:null,isStaff:"Y"===e.staff_department,id:e.id,name:e.name,description:e.description,manager:t||{name:""}})}),n.$store.commit("createTree",s),n.$store.commit("setPeople",o),n.$store.commit("setAssignments",r)},a.readAsBinaryString(t)},doExportXls:function(e){var t=this.tree2array(this.chart,[]),a=h.a.utils.book_new();h.a.utils.book_append_sheet(a,h.a.utils.json_to_sheet(t),"chart"),h.a.utils.book_append_sheet(a,h.a.utils.json_to_sheet(this.people),"people"),h.a.utils.book_append_sheet(a,h.a.utils.json_to_sheet(this.assignments),"assignment"),h.a.writeFile(a,"chart_data.xlsx")},tree2array:function(e,t){var a=this;return t.push({id:e.id,name:e.name,description:e.description,parent_id:e.parentId,staff_department:e.isStaff?"Y":"N",manager_id:e.manager.id}),e.children.forEach(function(e){return a.tree2array(e,t)}),t}}},b=(a(258),Object(d.a)(g,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"file",on:{click:function(t){e.editMenuOpen=!e.editMenuOpen}}},[a("i",{staticClass:"material-icons screenshot",attrs:{title:"Load/Save"},on:{click:function(e){}}},[e._v("save")]),e.editMenuOpen?a("div",{staticClass:"file_menu"},[a("ul",[a("li",[a("label",{staticClass:"file_select",on:{click:function(t){e.editMenuOpen=!e.editMenuOpen}}},[e._v("Import excel"),a("input",{attrs:{type:"file"},on:{change:e.importData}})])]),a("li",{on:{click:e.doExportXls}},[e._v("Export excel")]),a("li",{on:{click:e.generateInputFile}},[e._v("Generate inputfile")])])]):e._e()])},[],!1,null,"56d53733",null));b.options.__file="FileMenu.vue";var x=b.exports,_={data:function(){return{editMenuOpen:!1}},computed:i()({},Object(c.c)(["chart","editMode"]),{columnView:{get:function(){return this.$store.state.columnView},set:function(e){this.setColumnView(e),this.$store.commit("cancelAll")}},columnView_noStaff:{get:function(){return this.$store.state.columnView_noStaff},set:function(e){this.setColumnView_noStaff(e),this.$store.commit("cancelAll")}},managerNameView:{get:function(){return this.$store.state.managerNameView},set:function(e){this.$store.commit("setManagerNameView",e),this.$store.commit("cancelAll")}},managerPhotoView:{get:function(){return this.$store.state.managerPhotoView},set:function(e){this.setManagerPhotoView(e),this.$store.commit("cancelAll")}},editMode:{get:function(){return this.$store.state.editMode},set:function(e){this.$store.commit("setEditMode",e),this.$store.commit("cancelAll")}},onlyShowParents:{get:function(){return this.$store.state.onlyShowParents},set:function(e){this.setOnlyShowParents(e),this.$store.commit("cancelAll")}}}),methods:i()({},Object(c.b)(["setManagerPhotoView","setColumnView_noStaff","setColumnView","setOnlyShowParents"]))},w=(a(260),Object(d.a)(_,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"file",on:{click:function(t){e.editMenuOpen=!e.editMenuOpen}}},[a("i",{staticClass:"material-icons settings",attrs:{title:"Set options"},on:{click:function(e){}}},[e._v("settings")]),e.editMenuOpen?a("div",{staticClass:"file_menu"},[a("ul",[a("li",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.columnView,expression:"columnView"}],attrs:{type:"checkbox",id:"checkbox"},domProps:{checked:Array.isArray(e.columnView)?e._i(e.columnView,null)>-1:e.columnView},on:{change:function(t){var a=e.columnView,n=t.target,i=!!n.checked;if(Array.isArray(a)){var o=e._i(a,null);n.checked?o<0&&(e.columnView=a.concat([null])):o>-1&&(e.columnView=a.slice(0,o).concat(a.slice(o+1)))}else e.columnView=i}}}),a("label",{attrs:{for:"checkbox"}},[e._v("Column view")])]),a("li",[a("span",[e._v("   ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.columnView_noStaff,expression:"columnView_noStaff"}],attrs:{type:"checkbox",id:"checkbox3"},domProps:{checked:Array.isArray(e.columnView_noStaff)?e._i(e.columnView_noStaff,null)>-1:e.columnView_noStaff},on:{change:function(t){var a=e.columnView_noStaff,n=t.target,i=!!n.checked;if(Array.isArray(a)){var o=e._i(a,null);n.checked?o<0&&(e.columnView_noStaff=a.concat([null])):o>-1&&(e.columnView_noStaff=a.slice(0,o).concat(a.slice(o+1)))}else e.columnView_noStaff=i}}}),a("label",{attrs:{for:"checkbox3"}},[e._v("Exclude staff dept")])]),a("li",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.managerNameView,expression:"managerNameView"}],attrs:{type:"checkbox",id:"checkbox1"},domProps:{checked:Array.isArray(e.managerNameView)?e._i(e.managerNameView,null)>-1:e.managerNameView},on:{change:function(t){var a=e.managerNameView,n=t.target,i=!!n.checked;if(Array.isArray(a)){var o=e._i(a,null);n.checked?o<0&&(e.managerNameView=a.concat([null])):o>-1&&(e.managerNameView=a.slice(0,o).concat(a.slice(o+1)))}else e.managerNameView=i}}}),a("label",{attrs:{for:"checkbox1"}},[e._v("Show manager name")])]),a("li",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.managerPhotoView,expression:"managerPhotoView"}],attrs:{type:"checkbox",id:"checkbox4"},domProps:{checked:Array.isArray(e.managerPhotoView)?e._i(e.managerPhotoView,null)>-1:e.managerPhotoView},on:{change:function(t){var a=e.managerPhotoView,n=t.target,i=!!n.checked;if(Array.isArray(a)){var o=e._i(a,null);n.checked?o<0&&(e.managerPhotoView=a.concat([null])):o>-1&&(e.managerPhotoView=a.slice(0,o).concat(a.slice(o+1)))}else e.managerPhotoView=i}}}),a("label",{attrs:{for:"checkbox4"}},[e._v("Show manager photo")])]),e._e(),e._e()])]):e._e()])},[],!1,null,"4cf1a86e",null));w.options.__file="OptionsMenu.vue";var D=w.exports;a(102);var y={components:{SearchBox:u,FileMenu:x,OptionsMenu:D},computed:i()({},Object(c.c)(["chart","editMode","config"])),methods:i()({},Object(c.b)(["initZoom"]),{capture:function(){var e=document.querySelector("#chart");console.log(e),this.initZoom(),setTimeout(function(e){e=document.querySelector("#chart");var t=document.querySelector("#chart");console.log(t),s()(e,{onclone:function(e){var a=e.body.getElementsByTagName("svg");Array.from(a).forEach(function(e){e.getBBox();e.setAttribute("width",t.offsetWidth),e.setAttribute("height",t.offsetHeight)})}}).then(function(e){var t,a,n;t=e.toDataURL(),a="orgchart.png","string"==typeof(n=document.createElement("a")).download?(n.href=t,n.download=a,document.body.appendChild(n),n.click(),document.body.removeChild(n)):window.open(t)})},500)}})},M=(a(262),Object(d.a)(y,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"header",style:{backgroundColor:e.config.title.color}},[e._v(e._s(e.config.title.text)),e.editMode?a("div",{staticClass:"edit_indicator",on:{click:function(t){e.$store.commit("setEditMode",!1)}}},[e._v("Click to leave editmode")]):e._e(),e._m(0),a("search-box"),a("div",{staticClass:"menu"},[e.editMode?a("file-menu"):e._e(),a("options-menu"),e.config.enableScreenCapture?a("div",{staticClass:"screenshot1"},[a("i",{staticClass:"material-icons screenshot",attrs:{title:"Save as image"},on:{click:e.capture}},[e._v("photo_camera")])]):e._e()],1)],1)},o,!1,null,"a1c77a76",null));M.options.__file="PageHeader.vue";var C=M.exports;a(215);var k={name:"DeptBox",props:{departmentData:{type:Object,default:null},level:{type:Number,required:!0,default:0},type:{type:String,default:""}},data:function(){return{displaySiblingIcon:!1,hiddenDept:5}},computed:i()({},Object(c.c)(["columnView","managerNameView","managerPhotoView","activeDepartment","editMode","moveDepartment","config","chart"]),{active:function(){return this.departmentData===this.activeDepartment?"active_department":""},hiddenParents:function(){return this.departmentData===this.chart&&this.chart.parent}}),methods:i()({},Object(c.b)(["showChildren","hideChildren","setHideSiblings"]),{doShowChildren:function(e){var t=this.departmentData.parent&&!this.departmentData.parent.showChildren&&e?this.departmentData.parent:this.departmentData;e?this.showChildren(t):this.hideChildren(t)},setActiveDepartment:function(e,t){this.$store.commit("setActiveDepartment",e)},showCtxMenu:function(e,t){var a=this;this.$store.commit("setActiveDepartment",e),this.$store.commit("showEditMenu",null),this.$nextTick(function(e){a.editMode&&a.$store.commit("showEditMenu",t)})},showViewMenu:function(e,t){var a=this;this.$store.commit("setActiveDepartment",e),this.$store.commit("showViewMenu",null),this.$nextTick(function(e){a.$store.commit("showViewMenu",t)})},mouseOverBox:function(e){e?this.departmentData.parent&&this.departmentData.parent.showChildren&&(this.displaySiblingIcon=!0):this.displaySiblingIcon=!1},hideSiblings:function(){this.setHideSiblings(this.departmentData)}})},S=(a(266),Object(d.a)(k,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{on:{mouseenter:function(t){e.mouseOverBox(!0)},mouseleave:function(t){e.mouseOverBox(!1)}}},[e.departmentData?[e.managerPhotoView?[a("div",{staticClass:"department manager_photo",class:[e.type,e.active],attrs:{id:"ID_"+e.departmentData.id},on:{click:function(t){e.setActiveDepartment(e.departmentData,t)},contextmenu:function(t){t.preventDefault(),e.showCtxMenu(e.departmentData,t)}}},[a("div",{staticClass:"level_indicator",style:{backgroundColor:e.config.levelColors[e.level-1]||"#FFFFFF"}}),a("table",[a("tr",[a("td",[a("img",{staticClass:"profile",attrs:{src:e.config.photoUrl.prefix+e.departmentData.manager.photo+e.config.photoUrl.suffix}})]),a("td",[a("div",{staticClass:"textdiv"},[a("div",{staticClass:"name",domProps:{innerHTML:e._s(e.departmentData.name)}}),e.managerNameView?a("div",{staticClass:"name_manager"},[e._v(e._s(e.departmentData.manager.name))]):e._e()])])])]),!e.departmentData.showChildren&&e.departmentData.children.length?a("i",{staticClass:"material-icons arrow down",on:{click:function(t){e.doShowChildren(!0)}}},[e._v("arrow_drop_down")]):e._e(),e.departmentData.showChildren&&e.departmentData.children.length?a("i",{staticClass:"material-icons arrow up",on:{click:function(t){e.doShowChildren(!1)}}},[e._v("arrow_drop_up")]):e._e(),e.displaySiblingIcon?a("i",{staticClass:"material-icons view_button",attrs:{title:"view options"},on:{click:function(t){e.showViewMenu(e.departmentData,t)}}},[e._v("visibility")]):e._e(),e.hiddenParents?a("i",{staticClass:"material-icons hidden_parents"},[e._v("more_vert")]):e._e(),e.departmentData.children.length?a("div",{staticClass:"hidden_dept",attrs:{title:"Nr of subdepartments"}},[e._v(e._s(e.departmentData.children.length))]):e._e()])]:[a("div",{staticClass:"department",class:[e.type,e.active],attrs:{id:"ID_"+e.departmentData.id},on:{click:function(t){e.setActiveDepartment(e.departmentData,t)},contextmenu:function(t){t.preventDefault(),e.showCtxMenu(e.departmentData,t)}}},[a("div",{staticClass:"level_indicator",style:{backgroundColor:e.config.levelColors[e.level-1]||"#FFFFFF"}}),e.managerNameView?[a("div",{staticClass:"name1",domProps:{innerHTML:e._s(e.departmentData.name)}}),e.managerNameView?a("div",{staticClass:"name_manager"},[e._v(e._s(e.departmentData.manager.name))]):e._e()]:[a("div",{staticClass:"name2",domProps:{innerHTML:e._s(e.departmentData.name)}})],!e.departmentData.showChildren&&e.departmentData.children.length?a("i",{staticClass:"material-icons arrow down",on:{click:function(t){e.doShowChildren(!0)}}},[e._v("arrow_drop_down")]):e._e(),e.departmentData.showChildren&&e.departmentData.children.length?a("i",{staticClass:"material-icons arrow up",on:{click:function(t){e.doShowChildren(!1)}}},[e._v("arrow_drop_up")]):e._e(),e.displaySiblingIcon?a("i",{staticClass:"material-icons view_button",attrs:{title:"view options"},on:{click:function(t){e.showViewMenu(e.departmentData,t)}}},[e._v("visibility")]):e._e(),e.hiddenParents?a("i",{staticClass:"material-icons hidden_parents1"},[e._v("more_vert")]):e._e(),e.departmentData.children.length?a("div",{staticClass:"hidden_dept",attrs:{title:"Nr of subdepartments"}},[e._v(e._s(e.departmentData.children.length))]):e._e()],2)]]:e._e(),e.departmentData?e._e():[e.managerPhotoView?a("div",{staticClass:"department manager_photo invisible",class:[e.type]}):a("div",{staticClass:"department invisible",class:[e.type]})]],2)},[],!1,null,"2c9b8442",null));S.options.__file="DeptBox.vue";var P={name:"ShowDept",components:{DeptBox:S.exports},props:{parent:{type:Object,required:!0,default:null},level:{type:Number,required:!0,default:0}},data:function(){return{showChildren:!1}},computed:i()({},Object(c.c)(["columnView","columnView_noStaff"]),{hierarchyChildren:function(){return this.parent.onlyShowThisChild?[this.parent.onlyShowThisChild]:this.parent.children.filter(function(e){return!e.isStaff})},staffChildren:function(){if(this.parent.onlyShowThisChild)return[];var e=this.parent.children.filter(function(e){return e.isStaff}),t=[];return e.forEach(function(e,a){a%2==0?t.push({left:e,right:null}):t[t.length-1].right=e}),t},staffChildrenR:function(){return this.parent.children.filter(function(e,t){return e.isStaff&&t%2==0})}})},I=(a(268),Object(d.a)(P,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("table",[e.staffChildren.length?[a("tr",{attrs:{rowspan:"2"}},[a("td"),a("td",{staticClass:"dept"},[a("dept-box",{attrs:{"department-data":e.parent,level:e.level,type:"normal"}}),!e.columnView||e.parent.parent&&!e.parent.parent.showChildren||e.parent.showChildren?e._e():[e.parent.isStaff&&e.columnView_noStaff?e._e():a("table",e._l(e.parent.children,function(t){return a("tr",[a("td",[a("dept-box",{attrs:{"department-data":t,level:e.level+1,type:"column"}})],1)])}),0)]],2),a("td")]),e.parent.showChildren?a("tr",[a("td",[a("div",{staticClass:"staff-left"},[a("table",e._l(e.staffChildren,function(t){return a("tr",[a("td",[a("show-dept",{attrs:{parent:t.left,level:e.level+1}})],1)])}),0)])]),a("td",{staticClass:"dept"}),a("td",[a("div",{staticClass:"staff-right"},[a("table",e._l(e.staffChildren,function(t){return a("tr",[a("td",[t.right?a("show-dept",{attrs:{parent:t.right,level:e.level+1}}):e._e()],1)])}),0)])])]):e._e()]:[a("tr",[a("td",[a("dept-box",{attrs:{"department-data":e.parent,level:e.level,type:"normal"}}),!e.columnView||e.parent.parent&&!e.parent.parent.showChildren||e.parent.showChildren?e._e():[e.parent.isStaff&&e.columnView_noStaff?e._e():a("table",e._l(e.parent.children,function(t){return a("tr",[a("td",[a("dept-box",{attrs:{"department-data":t,level:e.level+1,type:"column"}})],1)])}),0)]],2)])]],2),a("table",[e.parent.showChildren?a("tr",e._l(e.hierarchyChildren,function(t){return a("td",[a("show-dept",{attrs:{parent:t,level:e.level+1}})],1)}),0):e._e()])])},[],!1,null,"71bae5cd",null));I.options.__file="ShowDept.vue";var j=I.exports,A={name:"DrawLines",computed:i()({},Object(c.c)(["lines"]))},E=(a(270),Object(d.a)(A,function(){var e=this.$createElement,t=this._self._c||e;return t("svg",{staticClass:"graph",attrs:{id:"svg"}},this._l(this.lines,function(e){return t("path",{staticStyle:{stroke:"#b6b4b4","stroke-width":"2"},attrs:{d:e.d,fill:"transparent"}})}),0)},[],!1,null,"f8458450",null));E.options.__file="DrawLines.vue";var N=E.exports,z={computed:i()({},Object(c.c)(["chart","showEditMenu","activeDepartment","moveDepartment"])),mounted:function(){var e=document.getElementById("edit_menu"),t=document.getElementById("chart").getBoundingClientRect();e.style.display="inline-block",e.style.left=this.showEditMenu.clientX-t.left+"px",e.style.top=this.showEditMenu.clientY+-t.top+"px"},methods:i()({},Object(c.b)(["deleteDepartment","addDepartment","doMoveDepartment"]),{removeDept:function(){var e=!0;this.activeDepartment.children.length&&(e=confirm("There are subdepartments. They will also be removed")),this.$store.commit("showEditMenu",null),e&&this.deleteDepartment()},addDept:function(){this.addDepartment()},moveTo:function(){this.$store.commit("setMoveDepartment"),this.$store.commit("showEditMenu",null)},cancelMoveTo:function(){this.$store.commit("cancelMoveDepartment"),this.$store.commit("showEditMenu",null)},doMoveTo:function(){this.moveDepartment&&this.doMoveDepartment()}})},V=(a(272),Object(d.a)(z,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"edit_menu"}},[e.moveDepartment?a("ul",[a("li",{on:{click:function(t){e.doMoveTo()}}},[e._v("Paste (move under here)")]),a("li",{on:{click:function(t){e.cancelMoveTo()}}},[e._v("Cancel move")])]):a("ul",[a("li",{on:{click:function(t){e.addDept()}}},[e._v("Add department")]),a("li",{on:{click:function(t){e.moveTo()}}},[e._v("Cut (move to...)")]),a("li",{staticClass:"noclick"},[e._v("---------------------------------------")]),a("li",{staticClass:"delete",on:{click:function(t){e.removeDept()}}},[e._v("Delete")])])])},[],!1,null,"47216bfe",null));V.options.__file="EditMenu.vue";var L=V.exports,O={computed:i()({},Object(c.c)(["chart","showViewMenu","activeDepartment","moveDepartment","onlyShowParents"])),mounted:function(){var e=document.getElementById("view_menu"),t=document.getElementById("chart").getBoundingClientRect();e.style.display="inline-block",e.style.left=this.showViewMenu.clientX-t.left+"px",e.style.top=this.showViewMenu.clientY+-t.top+"px"},methods:i()({},Object(c.b)(["setHideParents","setHideSiblings","setShowDepartment","setOnlyShowParents"]),{hideParents:function(e){this.setHideParents(e),this.$store.commit("showViewMenu",null)},hideSiblings:function(){this.setHideSiblings(this.activeDepartment),this.$store.commit("showViewMenu",null)},onlyParents:function(){this.setOnlyShowParents(!this.onlyShowParents),this.setShowDepartment(this.activeDepartment),this.$store.commit("showViewMenu",null)}})},T=(a(274),Object(d.a)(O,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"view_menu"}},[a("ul",[e.activeDepartment.showParents?a("li",{on:{click:function(t){e.hideParents(!0)}}},[e._v("Hide parents")]):a("li",{on:{click:function(t){e.hideParents(!1)}}},[e._v("Show parents")]),a("li",{on:{click:function(t){e.hideSiblings()}}},[e._v("Toggle siblings")]),a("li",{on:{click:function(t){e.onlyParents()}}},[e._v("Toggle only parents")])])])},[],!1,null,"e8782e82",null));T.options.__file="ViewMenu.vue";var F={components:{ShowDept:j,DrawLines:N,EditMenu:L,ViewMenu:T.exports},data:function(){return{tree:null,page:{left:0,top:0},cancelScroll:null,scrollOptions:{container:"body",easing:"ease-in",offset:-500,force:!0,cancelable:!0,onStart:function(e){},onDone:function(e){},onCancel:function(){},x:!0,y:!0}}},computed:i()({},Object(c.c)(["chart","options","showEditMenu","showViewMenu","moveDepartment","columnView","columnView_noStaff","activeDepartment"])),watch:{activeDepartment:function(e){}},mounted:function(){var e=this;this.initZoom(),setTimeout(function(t){e.$store.commit("addLine")},500)},methods:i()({},Object(c.b)(["initZoom"]),{onMouseMove:function(e){var t=document.getElementById("chart").getBoundingClientRect();this.page.left=e.clientX-t.left+10,this.page.top=e.clientY-t.top+10}})},U=(a(276),Object(d.a)(F,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"chart"},on:{mousemove:function(t){return"button"in t||!e._k(t.keyCode,"selve",void 0,t.key,void 0)?e.onMouseMove(t):null}}},[a("div",{staticClass:"chart_container"},[e.chart?a("show-dept",{attrs:{parent:e.chart,level:1}}):e._e(),e.chart?a("draw-lines"):e._e(),e.showEditMenu?a("edit-menu"):e._e(),e.showViewMenu?a("view-menu"):e._e(),e.moveDepartment?a("div",{style:{left:e.page.left+"px",top:e.page.top+"px"},attrs:{id:"move_dept"}},[a("div",[e._v(e._s(e.moveDepartment.name))]),e.moveDepartment.children.length?a("i",{staticClass:"material-icons arrow down"},[e._v("arrow_drop_down")]):e._e()]):e._e()],1)])},[],!1,null,"da5fdfb8",null));U.options.__file="OrgChart.vue";var B=U.exports,Q={components:{},props:{type:{type:String,default:""}},data:function(){return{searchField:"",person:{name:"",function:"",id:"",photo:""}}},computed:i()({},Object(c.c)(["people","editMode","selectedPerson","activeDepartment"]),{searchresults:function(){var e,t=this;return this.searchField.length<3?e=[{name:"Type at least 3 characters"}]:(e=this.people.filter(function(e){return e.name.toLowerCase().indexOf(t.searchField.toLowerCase())>-1})).length||(e=[{name:"No matches"}]),e},selectedPerson_name:{get:function(){return this.$store.state.selectedPerson.name},set:function(e){this.$store.commit("updateSelectedPerson",{field:"name",value:e})}},selectedPerson_function:{get:function(){return this.$store.state.selectedPerson.function},set:function(e){this.$store.commit("updateSelectedPerson",{field:"function",value:e})}},selectedPerson_id:{get:function(){return this.$store.state.selectedPerson.id},set:function(e){this.$store.commit("updateSelectedPerson",{field:"id",value:e})}},selectedPerson_photo:{get:function(){return this.$store.state.selectedPerson.photo},set:function(e){this.$store.commit("updateSelectedPerson",{field:"photo",value:e})}}}),watch:{},mounted:function(){console.log("ppl",this.people),"manager"===this.type&&this.activeDepartment.manager.name.length&&this.$store.commit("setSelectedPerson",this.activeDepartment.manager)},methods:{selectPerson:function(e){this.$store.commit("setSelectedPerson",e),console.log(this.selectedPerson),this.person=this.selectedPerson,this.searchField=""},close:function(){this.$store.commit("setSelectedPerson",null),this.$emit("close")},assignManager:function(e){"manager"===this.type?this.$store.commit("updateActiveDepartmentManager",e):this.$store.commit("addAssignmentToActiveDepartment",e),this.$store.commit("setSelectedPerson",null),this.$emit("close")},createPerson:function(e){this.people.filter(function(t){return t.id==e.id||t.name==e.name}).length?alert("This name or id already exists, use the search box in stead of entering in the name/id fields"):(this.$store.commit("addPerson",e),"manager"===this.type?this.$store.commit("updateActiveDepartmentManager",e):this.$store.commit("addAssignmentToActiveDepartment",e),this.$emit("close"))}}},H=(a(278),Object(d.a)(Q,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"person_picker"}},[a("i",{staticClass:"material-icons close",on:{click:e.close}},[e._v("close")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.searchField,expression:"searchField"}],staticClass:"search_input",attrs:{placeholder:"Search..."},domProps:{value:e.searchField},on:{input:function(t){t.target.composing||(e.searchField=t.target.value)}}}),e.searchField.length?a("div",{attrs:{id:"search_results"}},[a("ul",e._l(e.searchresults,function(t){return e.searchresults.length?a("li",{on:{click:function(a){e.selectPerson(t)}}},[e._v(e._s(t.name))]):e._e()}),0)]):e._e(),a("br"),a("br"),a("div",{staticClass:"addnew"},[e.selectedPerson?a("button",{staticClass:"select",on:{click:function(t){e.$store.commit("setSelectedPerson",null)}}},[e._v("Unselect")]):e._e(),a("table",[a("tr",[a("td",[e._v("Name")]),a("td",[e.selectedPerson?a("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedPerson_name,expression:"selectedPerson_name"}],domProps:{value:e.selectedPerson_name},on:{input:function(t){t.target.composing||(e.selectedPerson_name=t.target.value)}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:e.person.name,expression:"person.name"}],domProps:{value:e.person.name},on:{input:function(t){t.target.composing||e.$set(e.person,"name",t.target.value)}}})])]),a("tr",[a("td",[e._v("Id")]),a("td",[e.selectedPerson?a("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedPerson_id,expression:"selectedPerson_id"}],domProps:{value:e.selectedPerson_id},on:{input:function(t){t.target.composing||(e.selectedPerson_id=t.target.value)}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:e.person.id,expression:"person.id"}],domProps:{value:e.person.id},on:{input:function(t){t.target.composing||e.$set(e.person,"id",t.target.value)}}})])]),a("tr",[a("td",[e._v("Function")]),a("td",[e.selectedPerson?a("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedPerson_function,expression:"selectedPerson_function"}],domProps:{value:e.selectedPerson_function},on:{input:function(t){t.target.composing||(e.selectedPerson_function=t.target.value)}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:e.person.function,expression:"person.function"}],domProps:{value:e.person.function},on:{input:function(t){t.target.composing||e.$set(e.person,"function",t.target.value)}}})])]),a("tr",[a("td",[e._v("Photo URL")]),a("td",[e.selectedPerson?a("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedPerson_photo,expression:"selectedPerson_photo"}],domProps:{value:e.selectedPerson_photo},on:{input:function(t){t.target.composing||(e.selectedPerson_photo=t.target.value)}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:e.person.photo,expression:"person.photo"}],domProps:{value:e.person.photo},on:{input:function(t){t.target.composing||e.$set(e.person,"photo",t.target.value)}}})])]),a("tr",[e.selectedPerson?a("td",[a("button",{staticClass:"select",on:{click:function(t){e.assignManager(e.selectedPerson)}}},[e._v("Select")])]):a("td",[a("button",{staticClass:"select",attrs:{disabled:!(e.person.id&&e.person.name)},on:{click:function(t){e.createPerson(e.person)}}},[e._v("Create & Select")])])])])])])},[],!1,null,"e0b1692a",null));H.options.__file="PersonPicker.vue";var R={components:{PersonPicker:H.exports},data:function(){return{personPicker:null,activeTab:1,noPhotos:[]}},computed:i()({},Object(c.c)(["showSideScreen","activeDepartment","editMode","people","assignments","config"]),{activeDepartment_name:{get:function(){return this.$store.state.activeDepartment.name},set:function(e){this.$store.commit("updateActiveDepartmentName",e)}},activeDepartment_description:{get:function(){return this.$store.state.activeDepartment.description},set:function(e){this.$store.commit("updateActiveDepartmentDescription",e)}},activeDepartment_isStaff:{get:function(){return this.$store.state.activeDepartment.isStaff},set:function(e){this.updateActiveDepartmentIsStaff(e)}},department_people:function(){var e=this,t=this.assignments.filter(function(t){return t.department_id==e.activeDepartment.id}),a=[];return this.editMode||a.push({person:{name:this.activeDepartment.manager.name,id:this.activeDepartment.manager.id},assignment:{role:"Manager"},photoURL:this.config.photoUrl.prefix+this.activeDepartment.manager.id+this.config.photoUrl.suffix}),t.forEach(function(t){var n=e.people.find(function(e){return e.id==t.person_id});n&&a.push({person:n,assignment:t,photoURL:e.config.photoUrl.prefix+n.id+e.config.photoUrl.suffix})}),a},parents:function(){for(var e=[],t=this.activeDepartment;t.parent;)t=t.parent,e.unshift(t);return e},children:function(){return this.activeDepartment.children}}),methods:i()({},Object(c.b)(["setShowDepartment","updateActiveDepartmentIsStaff"]),{markPhotoNotFound:function(e){this.noPhotos.find(function(t){return t===e})||this.noPhotos.push(e)},setActiveDepartment:function(e){this.setShowDepartment(e)},removeFromDepartment:function(e){this.$store.commit("removePersonFromActiveDepartment",e)},updateRole:function(e,t){this.$store.commit("updateActiveDepartmentPersonRole",{person:e,role:t.target.value})},visitProfile:function(e){if(console.log(e),!this.editMode&&this.config.linkUrl){var t=this.config.linkUrl.prefix+e.id+this.config.linkUrl.suffix;window.open(t,"_blank")}}})},Y=(a(280),Object(d.a)(R,function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.showSideScreen?a("div",{staticClass:"side-screen"},[a("button",{staticClass:"right",on:{click:function(t){e.$store.commit("closeSideScreen")}}},[a("i",{staticClass:"material-icons arrow"},[e._v("keyboard_arrow_left")])]),e.activeDepartment?[a("div",{staticClass:"title"},[e._v(e._s(e.activeDepartment.name))]),a("div",{staticClass:"tabs"},[a("button",{staticClass:"tab",class:{active:1===e.activeTab},on:{click:function(t){e.activeTab=1}}},[e._v("Details")]),a("button",{staticClass:"tab",class:{active:2===e.activeTab},on:{click:function(t){e.activeTab=2}}},[e._v("People")])]),1===e.activeTab?[a("div",{staticClass:"property"},[a("span",{staticClass:"label"},[e._v("Name")]),a("br"),e.editMode?a("input",{directives:[{name:"model",rawName:"v-model",value:e.activeDepartment_name,expression:"activeDepartment_name"}],staticClass:"name",class:{error:!e.activeDepartment_name},domProps:{value:e.activeDepartment_name},on:{input:function(t){t.target.composing||(e.activeDepartment_name=t.target.value)}}}):a("span",{staticClass:"text"},[e._v(e._s(e.activeDepartment_name))])]),a("div",{staticClass:"property"},[a("span",{staticClass:"label"},[e._v("Manager")]),e.editMode?a("i",{staticClass:"material-icons edit",on:{click:function(t){e.personPicker="manager"}}},[e._v("edit")]):e._e(),a("br"),e.activeDepartment.manager.name?a("span",{staticClass:"text"},[e._v(e._s(e.activeDepartment.manager.name))]):a("span",{staticClass:"untext"},[e._v("No manager")])]),a("div",{staticClass:"property"},[a("span",{staticClass:"label"},[e._v("Description")]),a("br"),e.editMode?a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.activeDepartment_description,expression:"activeDepartment_description"}],staticClass:"description",domProps:{value:e.activeDepartment_description},on:{input:function(t){t.target.composing||(e.activeDepartment_description=t.target.value)}}}):a("span",{staticClass:"text"},[e._v(e._s(e.activeDepartment_description))])]),a("div",{staticClass:"property"},[e.editMode?[a("span",{staticClass:"label"},[e._v("Staff department:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.activeDepartment_isStaff,expression:"activeDepartment_isStaff"}],staticClass:"isstaff",attrs:{type:"checkbox",disabled:!e.editMode},domProps:{checked:Array.isArray(e.activeDepartment_isStaff)?e._i(e.activeDepartment_isStaff,null)>-1:e.activeDepartment_isStaff},on:{change:function(t){var a=e.activeDepartment_isStaff,n=t.target,i=!!n.checked;if(Array.isArray(a)){var o=e._i(a,null);n.checked?o<0&&(e.activeDepartment_isStaff=a.concat([null])):o>-1&&(e.activeDepartment_isStaff=a.slice(0,o).concat(a.slice(o+1)))}else e.activeDepartment_isStaff=i}}})]:[a("span",{staticClass:"label"},[e._v("Department type")]),a("br"),e.activeDepartment_isStaff?a("span",[e._v("Staff department")]):a("span",[e._v("Normal department")])]],2),a("div",{staticClass:"property"},[a("span",{staticClass:"label"},[e._v("Hiearchy")]),a("ul",[e._l(e.parents,function(t,n){return a("li",{staticClass:"clickable",on:{click:function(a){e.setActiveDepartment(t)}}},[e._l(n,function(t){return a("span",[e._v(" ")])}),0!==n?a("i",{staticClass:"material-icons sub"},[e._v("subdirectory_arrow_right")]):e._e(),a("span",[e._v(e._s(t.name))])],2)}),a("li",{staticClass:"clickable",on:{click:function(t){e.setActiveDepartment(e.activeDepartment)}}},[e._l(e.parents.length,function(t){return a("span",[e._v(" ")])}),e.parents.length?a("i",{staticClass:"material-icons sub"},[e._v("subdirectory_arrow_right")]):e._e(),a("span",{staticClass:"this-department"},[e._v(e._s(e.activeDepartment.name))])],2),e._l(e.activeDepartment.children,function(t){return a("li",{staticClass:"clickable",on:{click:function(a){e.setActiveDepartment(t)}}},[e._l(e.parents.length+5,function(t){return a("span",[e._v(" ")])}),a("span",[e._v(e._s(t.name))])],2)})],2)]),a("img",{staticClass:"profile",attrs:{src:e.config.photoUrl.prefix+e.activeDepartment.manager.photo+e.config.photoUrl.suffix},on:{click:function(t){e.visitProfile(e.activeDepartment.manager)}}})]:e._e(),2===e.activeTab?[e._l(e.department_people,function(t){return a("div",{staticClass:"assignment",on:{click:function(a){e.visitProfile(t.person)}}},[a("table",[a("tr",[a("td",[t.photoURL?a("img",{staticClass:"photo",attrs:{src:t.photoURL},on:{error:function(a){e.markPhotoNotFound(t)}}}):a("i",{staticClass:"material-icons nophoto"},[e._v("account_box")])]),a("td",[a("div",{staticClass:"name"},[a("span",[e._v(e._s(t.person.name))])]),e.editMode?a("div",{staticClass:"role"},[a("input",{domProps:{value:t.assignment.role},on:{input:function(a){e.updateRole(t,a)}}})]):a("div",{staticClass:"role"},[e._v(e._s(t.assignment.role))])])])]),e.editMode?[a("i",{staticClass:"material-icons delete",attrs:{title:"remove from department"},on:{click:function(a){e.removeFromDepartment(t)}}},[e._v("delete")])]:e._e()],2)}),e.editMode?a("button",{on:{click:function(t){e.personPicker="person"}}},[e._v("Add person   ")]):e._e()]:e._e(),e.personPicker?a("person-picker",{attrs:{type:e.personPicker},on:{close:function(t){e.personPicker=null}}}):e._e()]:e._e()],2):a("div",{staticClass:"noside-screen"},[a("button",{staticClass:"right",on:{click:function(t){e.$store.commit("openSideScreen")}}},[a("i",{staticClass:"material-icons arrow"},[e._v("keyboard_arrow_right")])])])},[],!1,null,"7c0fb100",null));Y.options.__file="SideScreen.vue";var Z={components:{OrgChart:B,PageHeader:C,SideScreen:Y.exports},computed:i()({},Object(c.c)(["chart"])),mounted:function(){this.initStore()},methods:i()({},Object(c.b)(["initStore"]))},G=(a(282),Object(d.a)(Z,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"p-container"},[t("page-header"),t("div",{staticClass:"container1",attrs:{id:"xparent"}},[this.chart?t("org-chart"):this._e()],1),this.chart?t("side-screen"):this._e()],1)},[],!1,null,null,null));G.options.__file="index.vue";t.default=G.exports}}]);