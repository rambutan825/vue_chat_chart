(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{160:function(e,t,a){var n=a(182);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a(25).default)("0765a37e",n,!0,{})},161:function(e,t,a){var n=a(185);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a(25).default)("c2fa3ab4",n,!0,{})},162:function(e,t,a){var n=a(187);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a(25).default)("560471e2",n,!0,{})},163:function(e,t,a){var n=a(189);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a(25).default)("8894dd4a",n,!0,{})},164:function(e,t,a){var n=a(193);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a(25).default)("41298e16",n,!0,{})},165:function(e,t,a){var n=a(195);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a(25).default)("9d8978aa",n,!0,{})},166:function(e,t,a){var n=a(197);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a(25).default)("ca981392",n,!0,{})},167:function(e,t,a){var n=a(199);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a(25).default)("8c668e60",n,!0,{})},168:function(e,t,a){var n=a(201);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a(25).default)("c38d80da",n,!0,{})},169:function(e,t,a){var n=a(203);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a(25).default)("20b3dc4b",n,!0,{})},170:function(e,t,a){var n=a(205);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a(25).default)("0c6aaad6",n,!0,{})},171:function(e,t,a){var n=a(208);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a(25).default)("a1d5b55c",n,!0,{})},173:function(e,t){},179:function(e,t){},180:function(e,t){},181:function(e,t,a){"use strict";var n=a(160);a.n(n).a},182:function(e,t,a){(e.exports=a(24)(!1)).push([e.i,"#search_div[data-v-16c1e217]{position:absolute;top:-10px;right:44px;width:200px}.search_input[data-v-16c1e217]{width:100%;border-radius:3px;border:none;box-shadow:inset 0 2px 5px grey;padding:3px 10px 1px;font-size:14px}.search_input[data-v-16c1e217]:focus{outline:none}#search_results[data-v-16c1e217]{width:218px;max-height:500px;border:1px solid #d3d3d3;position:absolute;z-index:1;overflow-y:scroll;overflow-x:hidden;margin-left:0;color:grey;font-size:12px;box-shadow:3px 3px 3px grey;border-radius:3px}#search_results[data-v-16c1e217],ul[data-v-16c1e217]{background-color:#fff}ul[data-v-16c1e217]{list-style:none;padding:5px;text-align:left}li[data-v-16c1e217]{border-bottom:1px solid #d3d3d3}li[data-v-16c1e217]:hover{background:#add8e6;cursor:pointer}",""])},184:function(e,t,a){"use strict";var n=a(161);a.n(n).a},185:function(e,t,a){(e.exports=a(24)(!1)).push([e.i,".file[data-v-26f3d0a9]{padding:10px;display:inline-block;position:relative}.file[data-v-26f3d0a9],.file_select[data-v-26f3d0a9]{cursor:pointer}.file_select>input[type=file][data-v-26f3d0a9]{display:none}.file_menu[data-v-26f3d0a9]{font-size:14px;background-color:#006696;display:inline-block;position:absolute;left:0;top:40px;width:150px;border:1px solid grey;border-top-color:#fff}ul[data-v-26f3d0a9]{list-style:none;padding:5px;text-align:left}li[data-v-26f3d0a9]:hover{background:#add8e6;cursor:pointer;color:#000}",""])},186:function(e,t,a){"use strict";var n=a(162);a.n(n).a},187:function(e,t,a){(e.exports=a(24)(!1)).push([e.i,".file[data-v-29803a5a]{padding:10px;display:inline-block;position:relative}.file[data-v-29803a5a],.file_select[data-v-29803a5a]{cursor:pointer}.file_select>input[type=file][data-v-29803a5a]{display:none}.file_menu[data-v-29803a5a]{font-size:14px;background-color:#006696;display:inline-block;position:absolute;left:0;top:40px;width:170px;border:1px solid grey;border-top-color:#fff}ul[data-v-29803a5a]{list-style:none;padding:5px;text-align:left}input[data-v-29803a5a]{margin:0 5px}li[data-v-29803a5a]:hover{background:#add8e6;cursor:pointer;color:#000}",""])},188:function(e,t,a){"use strict";var n=a(163);a.n(n).a},189:function(e,t,a){(e.exports=a(24)(!1)).push([e.i,".header[data-v-7343b4da]{width:100%;height:50px;background-color:#006696;color:#fff;text-align:center;font-size:40px;font-weight:500;position:fixed;left:0;top:0;z-index:2}.menu[data-v-7343b4da]{position:absolute;top:5px;left:40px;font-size:16px;width:200px;text-align:left}",""])},192:function(e,t,a){"use strict";var n=a(164);a.n(n).a},193:function(e,t,a){(e.exports=a(24)(!1)).push([e.i,".down-icon1[data-v-62a8b4c6]{width:20px;height:auto;margin:3px 0 0}.profile[data-v-62a8b4c6]{width:50px;height:50px;border:1px solid #000;background-color:#fff}.active_department[data-v-62a8b4c6]{background-color:#ff0!important;color:#000!important}.arrow[data-v-62a8b4c6]{font-size:30px;position:absolute;bottom:0;right:0;margin:-8px}.down[data-v-62a8b4c6]{cursor:zoom-in}.up[data-v-62a8b4c6]{cursor:zoom-out}.department[data-v-62a8b4c6],.department1[data-v-62a8b4c6],.department2[data-v-62a8b4c6],.department3[data-v-62a8b4c6],.departmente[data-v-62a8b4c6],.departmente2[data-v-62a8b4c6]{width:114px;height:50px;border:1px solid grey;text-align:center;font-size:11px;vertical-align:middle;display:flex;border-radius:3px;align-items:center;cursor:pointer;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;background-color:#fff;margin:30px auto 5px;padding:2px;position:relative}.department2[data-v-62a8b4c6],.departmente2[data-v-62a8b4c6]{width:180px;height:60px;margin-top:20px}.department3[data-v-62a8b4c6]{height:60px}.departmente[data-v-62a8b4c6],.departmente2[data-v-62a8b4c6]{background-color:transparent!important;border:none}.textdiv[data-v-62a8b4c6]{width:114px;height:50px;position:relative}.column[data-v-62a8b4c6]{margin-top:1px;margin-bottom:0}.staff[data-v-62a8b4c6]{margin:2px 80px}.name[data-v-62a8b4c6],.name1[data-v-62a8b4c6]{word-wrap:break-word;min-width:1%;width:114px;display:inline-block;position:absolute;left:0;top:10px}.name1[data-v-62a8b4c6]{top:5px}.name_manager[data-v-62a8b4c6]{word-wrap:break-word;min-width:1%;width:114px;display:inline-block;position:absolute;left:0;bottom:5px;font-style:italic;opacity:.8}.color_level1[data-v-62a8b4c6],.color_level2[data-v-62a8b4c6]{background-color:#05668d;color:#fff}.color_level3[data-v-62a8b4c6]{background-color:#028090;color:#fff}.color_level4[data-v-62a8b4c6]{background-color:#00a896;color:#fff}.color_level5[data-v-62a8b4c6]{background-color:#02c39a;color:#000}.color_level6[data-v-62a8b4c6]{background-color:#f0f3bd;color:#000}",""])},194:function(e,t,a){"use strict";var n=a(165);a.n(n).a},195:function(e,t,a){(e.exports=a(24)(!1)).push([e.i,".container[data-v-3c97d1ba]{display:inline-block;position:relative}table.staff[data-v-3c97d1ba]{margin:auto}.parent[data-v-3c97d1ba]{border:1px solid grey}.child[data-v-3c97d1ba],.parent[data-v-3c97d1ba]{display:inline-block}.dept[data-v-3c97d1ba]{border:1px solid red}table[data-v-3c97d1ba]{table-layout:fixed}td[data-v-3c97d1ba]{text-align:center;vertical-align:top;width:150px;padding:0}",""])},196:function(e,t,a){"use strict";var n=a(166);a.n(n).a},197:function(e,t,a){(e.exports=a(24)(!1)).push([e.i,".graph[data-v-154de111]{width:100%;height:800px;position:absolute;top:0;left:0;z-index:-1}.container[data-v-154de111],.parent[data-v-154de111]{display:inline-block}.parent[data-v-154de111]{border:1px solid grey}.child[data-v-154de111]{display:inline-block}.dept[data-v-154de111]{border:1px solid red}td[data-v-154de111]{text-align:center;vertical-align:top}",""])},198:function(e,t,a){"use strict";var n=a(167);a.n(n).a},199:function(e,t,a){(e.exports=a(24)(!1)).push([e.i,"#edit_menu[data-v-4ef437ea]{position:absolute;width:200px;height:100px;background-color:#d3d3d3;box-shadow:5px 5px 5px #000;top:50px;left:50px;padding:5px;z-index:2}#edit_menu ul[data-v-4ef437ea]{padding:0;list-style-type:none;margin:0}#edit_menu ul li[data-v-4ef437ea]{cursor:pointer}#edit_menu ul li[data-v-4ef437ea]:hover{background-color:grey;color:#fff}.delete[data-v-4ef437ea]{color:red}",""])},200:function(e,t,a){"use strict";var n=a(168);a.n(n).a},201:function(e,t,a){(e.exports=a(24)(!1)).push([e.i,"#chart[data-v-4db10212]{position:relative;margin-left:300px;margin-top:50px;display:inline-block}#chart[data-v-4db10212],#move_dept[data-v-4db10212]{box-sizing:border-box}#move_dept[data-v-4db10212]{position:absolute;width:114px;height:50px;text-align:center;font-size:11px;vertical-align:middle;display:flex;border-radius:3px;align-items:center;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;background-color:#fff;margin:4px auto;padding:2px;top:0;left:0;border:1px dashed #006696}.arrow[data-v-4db10212]{font-size:30px;position:absolute;bottom:0;right:0;margin:-8px}.down[data-v-4db10212]{cursor:zoom-in}.up[data-v-4db10212]{cursor:zoom-out}",""])},202:function(e,t,a){"use strict";var n=a(169);a.n(n).a},203:function(e,t,a){(e.exports=a(24)(!1)).push([e.i,"#person_picker[data-v-6c897a02]{position:absolute;top:200px;left:10px;width:280px;height:200px;background-color:#d3d3d3;padding:10px}.buttons[data-v-6c897a02]{position:absolute;left:0;bottom:10px;padding:0 20px}.buttons button[data-v-6c897a02]{margin:0 10px;cursor:pointer}.search_input[data-v-6c897a02]{width:calc(100% - 30px);border-radius:3px;border:none;box-shadow:inset 0 2px 5px grey;padding:3px 10px 1px;font-size:14px}.search_input[data-v-6c897a02]:focus{outline:none}#search_results[data-v-6c897a02]{width:218px;max-height:500px;border:1px solid #d3d3d3;position:absolute;z-index:1;overflow-y:scroll;overflow-x:hidden;margin-left:0;color:grey;font-size:12px;box-shadow:3px 3px 3px grey;border-radius:3px}#search_results[data-v-6c897a02],ul[data-v-6c897a02]{background-color:#fff}ul[data-v-6c897a02]{list-style:none;padding:5px;text-align:left}li[data-v-6c897a02]{border-bottom:1px solid #d3d3d3}li[data-v-6c897a02]:hover{background:#add8e6;cursor:pointer}.addnew[data-v-6c897a02]{margin:5px}.addnew input[data-v-6c897a02]{width:170px}.material-icons.close[data-v-6c897a02]{position:absolute;top:5px;right:5px;font-size:16px;cursor:pointer}",""])},204:function(e,t,a){"use strict";var n=a(170);a.n(n).a},205:function(e,t,a){(e.exports=a(24)(!1)).push([e.i,".profile[data-v-46b116d3]{width:80px;height:80px;position:absolute;right:16px;top:114px;border:1px solid grey}.title[data-v-46b116d3]{text-align:center;min-height:50px;margin-bottom:10px;font-size:20px;font-weight:600;width:calc(100% - 30px)}.property[data-v-46b116d3]{margin-bottom:20px}.clickable[data-v-46b116d3]{cursor:pointer}input.name[data-v-46b116d3],textarea.description[data-v-46b116d3]{width:calc(100% - 10px)}textarea.description[data-v-46b116d3]{height:80px}.clickable[data-v-46b116d3]:hover{background-color:grey}.noclickable[data-v-46b116d3]{cursor:default}.label[data-v-46b116d3]{font-weight:600;text-decoration:underline}.untext[data-v-46b116d3]{color:grey;font-style:italic}ul[data-v-46b116d3]{list-style:none;background-color:#fff;padding:5px}.this-department[data-v-46b116d3]{font-weight:600}.sub[data-v-46b116d3]{font-size:16px;margin:-8px 0}.isstaff[data-v-46b116d3]{margin:0 10px}.side-screen[data-v-46b116d3]{width:300px;padding:5px}.noside-screen[data-v-46b116d3],.side-screen[data-v-46b116d3]{position:fixed;left:0;top:50px;height:100vh;border:1px solid grey;background-color:#f5faff}.noside-screen[data-v-46b116d3]{width:20px}.right[data-v-46b116d3]{position:absolute;right:0;top:10px;background-color:transparent;border:0 solid grey;padding:1px;cursor:pointer}.right[data-v-46b116d3]:focus{outline:none}.error[data-v-46b116d3]{background-color:red}.material-icons.arrow[data-v-46b116d3]{border:1px solid #000}.material-icons.edit[data-v-46b116d3]{font-size:16px;cursor:pointer}",""])},206:function(e){e.exports={}},207:function(e,t,a){"use strict";var n=a(171);a.n(n).a},208:function(e,t,a){(e.exports=a(24)(!1)).push([e.i,".container1[data-v-6ab7ee18],.p-container[data-v-6ab7ee18]{position:relative}.container1[data-v-6ab7ee18]{min-height:100vh}.title[data-v-6ab7ee18]{font-family:Quicksand,Source Sans Pro,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif;display:block;font-weight:300;font-size:100px;color:#35495e;letter-spacing:1px}.subtitle[data-v-6ab7ee18]{font-weight:300;font-size:42px;color:#526488;word-spacing:5px;padding-bottom:15px}.links[data-v-6ab7ee18]{padding-top:15px}",""])},209:function(e,t,a){"use strict";a.r(t);a(31),a(64),a(17);var n=a(11),o=a.n(n),i=a(158),r=a.n(i),s=a(46),c={components:{},props:{},data:function(){return{searchField:""}},computed:o()({},Object(s.b)(["chart","editMode"]),{searchresults:function(){var e;return this.searchField.length<3?e=[{name:"Type at least 3 characters"}]:(e=this.searchDept(this.chart,this.searchField,[])).length||(e=[{name:"No matches"}]),e}}),watch:{searchField:function(e){"_edit"===e&&(this.$store.commit("setEditMode",!this.editMode),this.searchField="")}},mounted:function(){},methods:{findDept:function(e){var t=this;this.$store.commit("removeLines"),this.$store.commit("setShowDepartment",e),this.searchField="",setTimeout(function(e){t.$store.commit("addLine")},500)},searchDept:function(e,t,a){e.name.toLowerCase().indexOf(t.toLowerCase())>-1&&a.push(e);var n=this;return e.children.forEach(function(e){n.searchDept(e,t,a)}),a}}},d=(a(181),a(16)),l=Object(d.a)(c,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"search_div"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.searchField,expression:"searchField"}],staticClass:"search_input",attrs:{placeholder:"Search..."},domProps:{value:e.searchField},on:{input:function(t){t.target.composing||(e.searchField=t.target.value)}}}),e.searchField.length?a("div",{attrs:{id:"search_results"}},[a("ul",e._l(e.searchresults,function(t){return e.searchresults.length?a("li",{on:{click:function(a){e.findDept(t)}}},[e._v(e._s(t.name))]):e._e()}),0)]):e._e()])},[],!1,null,"16c1e217",null);l.options.__file="SearchBox.vue";var p=l.exports,u=a(183),m=a.n(u),h={data:function(){return{editMenuOpen:!1}},computed:o()({},Object(s.b)(["chart","people","editMode"])),watch:{editMode:function(e){e||(this.editMenuOpen=!1)}},methods:{generateInputFile:function(){var e=this.tree2array(this.chart,[]),t="var INPUT_DATA="+JSON.stringify({chart:e,people:this.people});console.log(t);var a=new Blob([t],{type:"text/plain;charset=utf-8"});m.a.saveAs(a,"data.js")},importData:function(e){var t=e.target.files[0];console.log(t);var a=new FileReader,n=this;a.onload=function(e){var t=e.target.result,a=r.a.read(t,{type:"binary"}),o=r.a.utils.sheet_to_json(a.Sheets.chart,{defval:""}),i=r.a.utils.sheet_to_json(a.Sheets.people,{defval:""}),s=[];o.forEach(function(e){var t=i.find(function(t){return t.id==e.manager_id});s.push({showChildren:!1,parent:null,parentId:e.parent_id,children:null,isStaff:"Y"===e.staff_department,id:e.id,name:e.name,description:e.description,manager:t||{name:""}})}),n.$store.commit("createTree",s),n.$store.commit("setPeople",i)},a.readAsBinaryString(t)},doExportXls:function(e){var t=this.tree2array(this.chart,[]),a=r.a.utils.book_new();r.a.utils.book_append_sheet(a,r.a.utils.json_to_sheet(t),"chart"),r.a.utils.book_append_sheet(a,r.a.utils.json_to_sheet(this.people),"people"),r.a.writeFile(a,"chart_data.xlsx")},array2tree:function(e){},tree2array:function(e,t){var a=this;return t.push({id:e.id,name:e.name,description:e.description,parent_id:e.parentId,staff_department:e.isStaff?"Y":"N",manager_id:e.manager.id}),e.children.forEach(function(e){return a.tree2array(e,t)}),t}}},f=(a(184),Object(d.a)(h,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"file",on:{click:function(t){e.editMenuOpen=!e.editMenuOpen}}},[e._v("File"),e.editMenuOpen?a("div",{staticClass:"file_menu"},[a("ul",[a("li",[a("label",{staticClass:"file_select",on:{click:function(t){e.editMenuOpen=!e.editMenuOpen}}},[e._v("Import excel"),a("input",{attrs:{type:"file"},on:{change:e.importData}})])]),a("li",{on:{click:e.doExportXls}},[e._v("Export excel")]),a("li",{on:{click:e.generateInputFile}},[e._v("Generate inputfile")])])]):e._e()])},[],!1,null,"26f3d0a9",null));f.options.__file="FileMenu.vue";var v=f.exports,g={data:function(){return{editMenuOpen:!1}},computed:o()({},Object(s.b)(["chart","editMode"]),{columnView:{get:function(){return this.$store.state.columnView},set:function(e){this.$store.commit("setColumnView",e),this.$store.commit("cancelAll")}},managerNameView:{get:function(){return this.$store.state.managerNameView},set:function(e){this.$store.commit("setManagerNameView",e),this.$store.commit("cancelAll")}},managerPhotoView:{get:function(){return this.$store.state.managerPhotoView},set:function(e){var t=this;this.$store.commit("removeLines"),this.$store.commit("setManagerPhotoView",e),this.$store.commit("cancelAll"),setTimeout(function(e){t.$store.commit("addLine")},500)}},editMode:{get:function(){return this.$store.state.editMode},set:function(e){this.$store.commit("setEditMode",e),this.$store.commit("cancelAll")}}}),watch:{},methods:{}},b=(a(186),Object(d.a)(g,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"file",on:{click:function(t){e.editMenuOpen=!e.editMenuOpen}}},[e._v("Options"),e.editMenuOpen?a("div",{staticClass:"file_menu"},[a("ul",[a("li",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.columnView,expression:"columnView"}],attrs:{type:"checkbox",id:"checkbox"},domProps:{checked:Array.isArray(e.columnView)?e._i(e.columnView,null)>-1:e.columnView},on:{change:function(t){var a=e.columnView,n=t.target,o=!!n.checked;if(Array.isArray(a)){var i=e._i(a,null);n.checked?i<0&&(e.columnView=a.concat([null])):i>-1&&(e.columnView=a.slice(0,i).concat(a.slice(i+1)))}else e.columnView=o}}}),a("label",{attrs:{for:"checkbox"}},[e._v("Column view")])]),a("li",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.managerNameView,expression:"managerNameView"}],attrs:{type:"checkbox",id:"checkbox1"},domProps:{checked:Array.isArray(e.managerNameView)?e._i(e.managerNameView,null)>-1:e.managerNameView},on:{change:function(t){var a=e.managerNameView,n=t.target,o=!!n.checked;if(Array.isArray(a)){var i=e._i(a,null);n.checked?i<0&&(e.managerNameView=a.concat([null])):i>-1&&(e.managerNameView=a.slice(0,i).concat(a.slice(i+1)))}else e.managerNameView=o}}}),a("label",{attrs:{for:"checkbox1"}},[e._v("Show manager name")])]),a("li",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.managerPhotoView,expression:"managerPhotoView"}],attrs:{type:"checkbox",id:"checkbox1"},domProps:{checked:Array.isArray(e.managerPhotoView)?e._i(e.managerPhotoView,null)>-1:e.managerPhotoView},on:{change:function(t){var a=e.managerPhotoView,n=t.target,o=!!n.checked;if(Array.isArray(a)){var i=e._i(a,null);n.checked?i<0&&(e.managerPhotoView=a.concat([null])):i>-1&&(e.managerPhotoView=a.slice(0,i).concat(a.slice(i+1)))}else e.managerPhotoView=o}}}),a("label",{attrs:{for:"checkbox1"}},[e._v("Show manager photo")])]),a("li",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.editMode,expression:"editMode"}],attrs:{type:"checkbox",id:"checkbox2"},domProps:{checked:Array.isArray(e.editMode)?e._i(e.editMode,null)>-1:e.editMode},on:{change:function(t){var a=e.editMode,n=t.target,o=!!n.checked;if(Array.isArray(a)){var i=e._i(a,null);n.checked?i<0&&(e.editMode=a.concat([null])):i>-1&&(e.editMode=a.slice(0,i).concat(a.slice(i+1)))}else e.editMode=o}}}),a("label",{attrs:{for:"checkbox2"}},[e._v("Edit Mode")])])])]):e._e()])},[],!1,null,"29803a5a",null));b.options.__file="OptionsMenu.vue";var x={components:{SearchBox:p,FileMenu:v,OptionsMenu:b.exports},props:{pageTitle:{type:String,required:!0,default:""}},data:function(){return{}},computed:o()({},Object(s.b)(["chart","editMode"])),watch:{},methods:{}},_=(a(188),Object(d.a)(x,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"header"},[this._v(this._s(this.pageTitle)),t("search-box"),t("div",{staticClass:"menu"},[this.editMode?t("file-menu"):this._e(),t("options-menu")],1)],1)},[],!1,null,"7343b4da",null));_.options.__file="PageHeader.vue";var w=_.exports;a(174);var y={name:"DeptBox",components:{},props:{departmentData:{type:Object,default:null},level:{type:Number,required:!0,default:0},type:{type:String,default:""}},data:function(){return{}},computed:o()({},Object(s.b)(["columnView","managerNameView","managerPhotoView","activeDepartment","editMode","moveDepartment"]),{active:function(){return this.departmentData===this.activeDepartment?"active_department":""}}),mounted:function(){console.log(this.columnView)},destroyed:function(){},methods:{doShowChildren:function(e){var t=this;this.$store.commit("removeLines");var a=this.departmentData.parent&&!this.departmentData.parent.showChildren&&e?this.departmentData.parent:this.departmentData;e?this.$store.commit("showChildren",a):this.$store.commit("hideChildren",a),setTimeout(function(e){t.$store.commit("addLine")},500)},setActiveDepartment:function(e,t){this.$store.commit("setActiveDepartment",e)},showCtxMenu:function(e,t){var a=this;this.$store.commit("setActiveDepartment",e),this.$store.commit("showEditMenu",null),this.$nextTick(function(e){a.editMode&&a.$store.commit("showEditMenu",t)})}}},D=(a(192),Object(d.a)(y,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.departmentData?[e.managerPhotoView?[a("div",{staticClass:"department2",class:["color_level"+e.level,e.type,e.active],attrs:{id:e.departmentData.id},on:{click:function(t){e.setActiveDepartment(e.departmentData,t)},contextmenu:function(t){t.preventDefault(),e.showCtxMenu(e.departmentData,t)}}},[a("table",[a("tr",[a("td",[a("img",{staticClass:"profile",attrs:{src:"photos/"+e.departmentData.manager.id+".png"}})]),a("td",[a("div",{staticClass:"textdiv"},[a("div",{staticClass:"name",domProps:{innerHTML:e._s(e.departmentData.name)}}),e.managerNameView?a("div",{staticClass:"name_manager"},[e._v(e._s(e.departmentData.manager.name))]):e._e()])])])]),!e.departmentData.showChildren&&e.departmentData.children.length?a("i",{staticClass:"material-icons arrow down",on:{click:function(t){e.doShowChildren(!0)}}},[e._v("arrow_drop_down")]):e._e(),e.departmentData.showChildren&&e.departmentData.children.length?a("i",{staticClass:"material-icons arrow up",on:{click:function(t){e.doShowChildren(!1)}}},[e._v("arrow_drop_up")]):e._e()])]:[e.managerNameView?a("div",{staticClass:"department1",class:["color_level"+e.level,e.type,e.active],attrs:{id:e.departmentData.id},on:{click:function(t){e.setActiveDepartment(e.departmentData,t)},contextmenu:function(t){t.preventDefault(),e.showCtxMenu(e.departmentData,t)}}},[a("div",{staticClass:"name1",domProps:{innerHTML:e._s(e.departmentData.name)}}),e.managerNameView?a("div",{staticClass:"name_manager"},[e._v(e._s(e.departmentData.manager.name))]):e._e(),!e.departmentData.showChildren&&e.departmentData.children.length?a("i",{staticClass:"material-icons arrow down",on:{click:function(t){e.doShowChildren(!0)}}},[e._v("arrow_drop_down")]):e._e(),e.departmentData.showChildren&&e.departmentData.children.length?a("i",{staticClass:"material-icons arrow up",on:{click:function(t){e.doShowChildren(!1)}}},[e._v("arrow_drop_up")]):e._e()]):a("div",{staticClass:"department1",class:["color_level"+e.level,e.type,e.active],attrs:{id:e.departmentData.id},on:{click:function(t){e.setActiveDepartment(e.departmentData,t)},contextmenu:function(t){t.preventDefault(),e.showCtxMenu(e.departmentData,t)}}},[a("div",{staticClass:"name",domProps:{innerHTML:e._s(e.departmentData.name)}}),!e.departmentData.showChildren&&e.departmentData.children.length?a("i",{staticClass:"material-icons arrow down",on:{click:function(t){e.doShowChildren(!0)}}},[e._v("arrow_drop_down")]):e._e(),e.departmentData.showChildren&&e.departmentData.children.length?a("i",{staticClass:"material-icons arrow up",on:{click:function(t){e.doShowChildren(!1)}}},[e._v("arrow_drop_up")]):e._e()])]]:e._e(),e.departmentData?e._e():[e.managerPhotoView?[a("div",{staticClass:"departmente2",class:["color_level"+e.level,e.type]})]:[a("div",{staticClass:"departmente",class:["color_level"+e.level,e.type]})]]],2)},[],!1,null,"62a8b4c6",null));D.options.__file="DeptBox.vue";var k={name:"ShowDept",components:{DeptBox:D.exports},props:{parent:{type:Object,required:!0,default:null},level:{type:Number,required:!0,default:0},columnView:{type:Boolean,default:!1}},data:function(){return{showChildren:!1}},computed:{hierarchyChildren:function(){return this.parent.children.filter(function(e){return!e.isStaff})},staffChildren:function(){var e=this.parent.children.filter(function(e){return e.isStaff}),t=[];return e.forEach(function(e,a){a%2==0?t.push({left:e,right:null}):t[t.length-1].right=e}),console.log("result",t),t},staffChildrenR:function(){return this.parent.children.filter(function(e,t){return e.isStaff&&t%2==0})}},mounted:function(){},methods:{}},C=(a(194),Object(d.a)(k,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("table",[a("tr",[a("td",{attrs:{colspan:e.parent.showChildren?e.hierarchyChildren.length:1}},[a("dept-box",{attrs:{"department-data":e.parent,level:e.level,type:"normal"}})],1)]),e._l(e.staffChildren,function(t){return e.parent.showChildren?a("tr",[a("td",{attrs:{colspan:e.parent.showChildren?e.hierarchyChildren.length:1}},[a("table",{staticClass:"staff"},[a("tr",[a("td",[a("dept-box",{attrs:{"department-data":t.left,level:e.level+1,type:"staff"}})],1),a("td",[a("dept-box",{attrs:{"department-data":t.right,level:e.level+1,type:"staff"}})],1)])])])]):e._e()}),e.parent.showChildren?a("tr",e._l(e.hierarchyChildren,function(t){return a("td",[a("show-dept",{attrs:{parent:t,level:e.level+1,columnView:e.columnView}})],1)}),0):e._e(),e._l(e.parent.children,function(t){return!e.columnView||e.parent.parent&&!e.parent.parent.showChildren||e.parent.showChildren?e._e():a("tr",[a("td",[a("dept-box",{attrs:{"department-data":t,level:e.level+1,type:"column"}})],1)])})],2)])},[],!1,null,"3c97d1ba",null));C.options.__file="ShowDept.vue";var P=C.exports,M={name:"DrawLines",components:{},props:{},data:function(){return{}},computed:o()({},Object(s.b)(["lines"])),watch:{},mounted:function(){},methods:{}},S=(a(196),Object(d.a)(M,function(){var e=this.$createElement,t=this._self._c||e;return t("svg",{staticClass:"graph",attrs:{id:"svg"}},[this._l(this.lines,function(e){return[t("path",{staticStyle:{stroke:"rgb(100,100,100)","stroke-width":"2"},attrs:{d:e.d,fill:"transparent"}})]})],2)},[],!1,null,"154de111",null));S.options.__file="DrawLines.vue";var A=S.exports,V={components:{},props:{},data:function(){return{}},computed:o()({},Object(s.b)(["chart","orgArray","options","showEditMenu","activeDepartment","moveDepartment"])),mounted:function(){var e=document.getElementById("edit_menu"),t=document.getElementById("chart").getBoundingClientRect();e.style.display="inline-block",e.style.left=this.showEditMenu.clientX-t.left+"px",e.style.top=this.showEditMenu.clientY+-t.top+"px"},methods:{removeDept:function(){var e=this,t=!0;this.activeDepartment.children.length&&(t=confirm("There are subdepartments. They will also be removed")),this.$store.commit("showEditMenu",null),t&&(this.$store.commit("removeLines"),this.$store.commit("deleteDepartment"),setTimeout(function(t){e.$store.commit("addLine")},500))},addDept:function(){var e=this;this.$store.commit("removeLines"),this.$store.commit("addDepartment"),setTimeout(function(t){e.$store.commit("addLine")},500)},moveTo:function(){this.$store.commit("setMoveDepartment"),this.$store.commit("showEditMenu",null)},cancelMoveTo:function(){this.$store.commit("cancelMoveDepartment"),this.$store.commit("showEditMenu",null)},doMoveTo:function(){var e=this;this.$store.commit("removeLines"),this.moveDepartment&&this.$store.commit("doMoveDepartment"),setTimeout(function(t){e.$store.commit("addLine")},500)}}},N=(a(198),Object(d.a)(V,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"edit_menu"}},[e.moveDepartment?a("ul",[a("li",{on:{click:function(t){e.doMoveTo()}}},[e._v("Paste (move under here)")]),a("li",{on:{click:function(t){e.cancelMoveTo()}}},[e._v("Cancel move")])]):a("ul",[a("li",{on:{click:function(t){e.addDept()}}},[e._v("Add department")]),a("li",{on:{click:function(t){e.moveTo()}}},[e._v("Cut (move to...)")]),a("li",[e._v(" ")]),a("li",{staticClass:"delete",on:{click:function(t){e.removeDept()}}},[e._v("Delete")])])])},[],!1,null,"4ef437ea",null));N.options.__file="EditMenu.vue";var O={components:{ShowDept:P,DrawLines:A,EditMenu:N.exports},data:function(){return{tree:null,page:{left:0,top:0}}},computed:o()({},Object(s.b)(["chart","options","showEditMenu","moveDepartment","columnView"])),mounted:function(){var e=this;setTimeout(function(t){e.$store.commit("addLine")},500)},methods:{onMouseMove:function(e){var t=document.getElementById("chart").getBoundingClientRect();this.page.left=e.clientX-t.left+10,this.page.top=e.clientY-t.top+10}}},T=(a(200),Object(d.a)(O,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"chart"},on:{mousemove:function(t){return"button"in t||!e._k(t.keyCode,"selve",void 0,t.key,void 0)?e.onMouseMove(t):null}}},[e.chart?a("show-dept",{attrs:{parent:e.chart,level:1,columnView:e.columnView}}):e._e(),e.chart?a("draw-lines"):e._e(),e.showEditMenu?a("edit-menu"):e._e(),e.moveDepartment?a("div",{style:{left:e.page.left+"px",top:e.page.top+"px"},attrs:{id:"move_dept"}},[a("div",[e._v(e._s(e.moveDepartment.name))]),e.moveDepartment.children.length?a("i",{staticClass:"material-icons arrow down"},[e._v("arrow_drop_down")]):e._e()]):e._e()],1)},[],!1,null,"4db10212",null));T.options.__file="OrgChart.vue";var E=T.exports,z={components:{},props:{},data:function(){return{searchField:"",person:{name:"",function:"",id:"",photo:""}}},computed:o()({},Object(s.b)(["people","editMode","selectedPerson","activeDepartment"]),{searchresults:function(){var e,t=this;return this.searchField.length<3?e=[{name:"Type at least 3 characters"}]:(e=this.people.filter(function(e){return e.name.toLowerCase().indexOf(t.searchField.toLowerCase())>-1})).length||(e=[{name:"No matches"}]),e},selectedPerson_name:{get:function(){return this.$store.state.selectedPerson.name},set:function(e){this.$store.commit("updateSelectedPerson",{field:"name",value:e})}},selectedPerson_function:{get:function(){return this.$store.state.selectedPerson.function},set:function(e){this.$store.commit("updateSelectedPerson",{field:"function",value:e})}},selectedPerson_id:{get:function(){return this.$store.state.selectedPerson.id},set:function(e){this.$store.commit("updateSelectedPerson",{field:"id",value:e})}},selectedPerson_photo:{get:function(){return this.$store.state.selectedPerson.photo},set:function(e){this.$store.commit("updateSelectedPerson",{field:"photo",value:e})}}}),watch:{},mounted:function(){console.log("ppl",this.people),this.activeDepartment.manager.name.length&&this.$store.commit("setSelectedPerson",this.activeDepartment.manager)},methods:{selectPerson:function(e){this.$store.commit("setSelectedPerson",e),console.log(this.selectedPerson),this.person=this.selectedPerson,this.searchField=""},close:function(){this.$store.commit("setSelectedPerson",null),this.$emit("close")},assignManager:function(e){this.$store.commit("updateActiveDepartmentManager",e),this.$store.commit("setSelectedPerson",null),this.$emit("close")},createPerson:function(e){this.people.filter(function(t){return t.id==e.id||t.name==e.name}).length?alert("This name or id already exists, use the search box in stead of entering in the name/id fields"):(this.$store.commit("addPerson",e),this.$store.commit("updateActiveDepartmentManager",e),this.$emit("close"))}}},L=(a(202),Object(d.a)(z,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"person_picker"}},[a("i",{staticClass:"material-icons close",on:{click:e.close}},[e._v("close")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.searchField,expression:"searchField"}],staticClass:"search_input",attrs:{placeholder:"Search..."},domProps:{value:e.searchField},on:{input:function(t){t.target.composing||(e.searchField=t.target.value)}}}),e.searchField.length?a("div",{attrs:{id:"search_results"}},[a("ul",e._l(e.searchresults,function(t){return e.searchresults.length?a("li",{on:{click:function(a){e.selectPerson(t)}}},[e._v(e._s(t.name))]):e._e()}),0)]):e._e(),a("br"),a("br"),a("div",{staticClass:"addnew"},[a("table",[a("tr",[a("td",[e._v("Name")]),a("td",[e.selectedPerson?a("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedPerson_name,expression:"selectedPerson_name"}],domProps:{value:e.selectedPerson_name},on:{input:function(t){t.target.composing||(e.selectedPerson_name=t.target.value)}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:e.person.name,expression:"person.name"}],domProps:{value:e.person.name},on:{input:function(t){t.target.composing||e.$set(e.person,"name",t.target.value)}}})])]),a("tr",[a("td",[e._v("Id")]),a("td",[e.selectedPerson?a("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedPerson_id,expression:"selectedPerson_id"}],domProps:{value:e.selectedPerson_id},on:{input:function(t){t.target.composing||(e.selectedPerson_id=t.target.value)}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:e.person.id,expression:"person.id"}],domProps:{value:e.person.id},on:{input:function(t){t.target.composing||e.$set(e.person,"id",t.target.value)}}})])]),a("tr",[a("td",[e._v("Function")]),a("td",[e.selectedPerson?a("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedPerson_function,expression:"selectedPerson_function"}],domProps:{value:e.selectedPerson_function},on:{input:function(t){t.target.composing||(e.selectedPerson_function=t.target.value)}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:e.person.function,expression:"person.function"}],domProps:{value:e.person.function},on:{input:function(t){t.target.composing||e.$set(e.person,"function",t.target.value)}}})])]),a("tr",[a("td",[e._v("Photo URL")]),a("td",[e.selectedPerson?a("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedPerson_photo,expression:"selectedPerson_photo"}],domProps:{value:e.selectedPerson_photo},on:{input:function(t){t.target.composing||(e.selectedPerson_photo=t.target.value)}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:e.person.photo,expression:"person.photo"}],domProps:{value:e.person.photo},on:{input:function(t){t.target.composing||e.$set(e.person,"photo",t.target.value)}}})])]),a("tr",[e.selectedPerson?a("td",[a("button",{staticClass:"select",on:{click:function(t){e.assignManager(e.selectedPerson)}}},[e._v("Select")])]):a("td",[a("button",{staticClass:"select",attrs:{disabled:!(e.person.id&&e.person.name)},on:{click:function(t){e.createPerson(e.person)}}},[e._v("Create & Select")])])])])])])},[],!1,null,"6c897a02",null));L.options.__file="PersonPicker.vue";var j={components:{PersonPicker:L.exports},props:{},data:function(){return{openPersonPicker:!1}},computed:o()({},Object(s.b)(["showSideScreen","activeDepartment","editMode"]),{activeDepartment_name:{get:function(){return this.$store.state.activeDepartment.name},set:function(e){this.$store.commit("updateActiveDepartmentName",e)}},activeDepartment_description:{get:function(){return this.$store.state.activeDepartment.description},set:function(e){this.$store.commit("updateActiveDepartmentDescription",e)}},activeDepartment_isStaff:{get:function(){return this.$store.state.activeDepartment.isStaff},set:function(e){var t=this;this.$store.commit("removeLines"),this.$store.commit("updateActiveDepartmentIsStaff",e),setTimeout(function(e){t.$store.commit("addLine")},500)}},parents:function(){for(var e=[],t=this.activeDepartment;t.parent;)t=t.parent,e.unshift(t);return e},children:function(){return this.activeDepartment.children}}),methods:{setActiveDepartment:function(e){var t=this;this.$store.commit("removeLines"),this.$store.commit("setShowDepartment",e),this.searchField="",setTimeout(function(e){t.$store.commit("addLine")},500)}}},F=(a(204),Object(d.a)(j,function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.showSideScreen?a("div",{staticClass:"side-screen"},[a("button",{staticClass:"right",on:{click:function(t){e.$store.commit("closeSideScreen")}}},[a("i",{staticClass:"material-icons arrow"},[e._v("keyboard_arrow_left")])]),e.activeDepartment?[e.activeDepartment?a("div",{staticClass:"title"},[e._v(e._s(e.activeDepartment.name))]):e._e(),e.activeDepartment?[a("div",{staticClass:"property"},[a("span",{staticClass:"label"},[e._v("Name")]),a("br"),e.editMode?a("input",{directives:[{name:"model",rawName:"v-model",value:e.activeDepartment_name,expression:"activeDepartment_name"}],staticClass:"name",class:{error:!e.activeDepartment_name},domProps:{value:e.activeDepartment_name},on:{input:function(t){t.target.composing||(e.activeDepartment_name=t.target.value)}}}):a("span",{staticClass:"text"},[e._v(e._s(e.activeDepartment_name))])]),a("div",{staticClass:"property"},[a("span",{staticClass:"label"},[e._v("Manager")]),e.editMode?a("i",{staticClass:"material-icons edit",on:{click:function(t){e.openPersonPicker=!0}}},[e._v("edit")]):e._e(),a("br"),e.activeDepartment.manager.name?a("span",{staticClass:"text"},[e._v(e._s(e.activeDepartment.manager.name))]):a("span",{staticClass:"untext"},[e._v("No manager")])]),a("div",{staticClass:"property"},[a("span",{staticClass:"label"},[e._v("Description")]),a("br"),e.editMode?a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.activeDepartment_description,expression:"activeDepartment_description"}],staticClass:"description",domProps:{value:e.activeDepartment_description},on:{input:function(t){t.target.composing||(e.activeDepartment_description=t.target.value)}}}):a("span",{staticClass:"text"},[e._v(e._s(e.activeDepartment_description))])]),a("div",{staticClass:"property"},[a("span",{staticClass:"label"},[e._v("Staff department")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.activeDepartment_isStaff,expression:"activeDepartment_isStaff"}],staticClass:"isstaff",attrs:{type:"checkbox",disabled:!e.editMode},domProps:{checked:Array.isArray(e.activeDepartment_isStaff)?e._i(e.activeDepartment_isStaff,null)>-1:e.activeDepartment_isStaff},on:{change:function(t){var a=e.activeDepartment_isStaff,n=t.target,o=!!n.checked;if(Array.isArray(a)){var i=e._i(a,null);n.checked?i<0&&(e.activeDepartment_isStaff=a.concat([null])):i>-1&&(e.activeDepartment_isStaff=a.slice(0,i).concat(a.slice(i+1)))}else e.activeDepartment_isStaff=o}}})]),a("div",{staticClass:"property"},[a("span",{staticClass:"label"},[e._v("Hiearchy")]),a("ul",[e._l(e.parents,function(t,n){return a("li",{staticClass:"clickable",on:{click:function(a){e.setActiveDepartment(t)}}},[e._l(n,function(t){return a("span",[e._v(" ")])}),0!==n?a("i",{staticClass:"material-icons sub"},[e._v("subdirectory_arrow_right")]):e._e(),a("span",[e._v(e._s(t.name))])],2)}),a("li",{staticClass:"noclickable"},[e._l(e.parents.length,function(t){return a("span",[e._v(" ")])}),e.parents.length?a("i",{staticClass:"material-icons sub"},[e._v("subdirectory_arrow_right")]):e._e(),a("span",{staticClass:"this-department"},[e._v(e._s(e.activeDepartment.name))])],2),e._l(e.activeDepartment.children,function(t){return a("li",{staticClass:"clickable",on:{click:function(a){e.setActiveDepartment(t)}}},[e._l(e.parents.length+5,function(t){return a("span",[e._v(" ")])}),a("span",[e._v(e._s(t.name))])],2)})],2)])]:e._e(),e.openPersonPicker?a("person-picker",{on:{close:function(t){e.openPersonPicker=!1}}}):e._e(),a("img",{staticClass:"profile",attrs:{src:"photos/"+e.activeDepartment.manager.id+".png"}})]:e._e()],2):a("div",{staticClass:"noside-screen"},[a("button",{staticClass:"right",on:{click:function(t){e.$store.commit("openSideScreen")}}},[a("i",{staticClass:"material-icons arrow"},[e._v("keyboard_arrow_right")])])])},[],!1,null,"46b116d3",null));F.options.__file="SideScreen.vue";var I=F.exports,B=(a(206),{components:{OrgChart:E,PageHeader:w,SideScreen:I},data:function(){return{orgData:null}},computed:o()({},Object(s.b)(["showSideScreen","chart"])),watch:{chart:function(e){var t=this;console.log("chart changed"),setTimeout(function(e){t.$store.commit("addLine")},500)}},mounted:function(){var e=this;console.log(INPUT_DATA);var t=[];INPUT_DATA.chart.forEach(function(e){var a=INPUT_DATA.people.find(function(t){return t.id==e.manager_id});t.push({id:e.id,parentId:e.parent_id,isStaff:"Y"==e.staff_department,name:e.name,description:e.description,manager:a||{name:""},showChildren:!1,parent:null,children:null})}),console.log(t),this.$store.commit("createTree",t),this.$store.commit("setPeople",INPUT_DATA.people),window.onresize=function(e){that.$store.commit("removeLines"),setTimeout(function(e){that.$store.commit("addLine")},500)},document.body.addEventListener("keyup",function(t){27===t.keyCode&&e.$store.commit("cancelAll")})},methods:{}}),H=(a(207),Object(d.a)(B,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"p-container"},[t("page-header",{attrs:{"page-title":"Organisation Chart"}}),t("div",{staticClass:"container1",attrs:{id:"xparent"}},[this.chart?t("org-chart"):this._e()],1),this.chart?t("side-screen"):this._e()],1)},[],!1,null,"6ab7ee18",null));H.options.__file="index.vue";t.default=H.exports}}]);